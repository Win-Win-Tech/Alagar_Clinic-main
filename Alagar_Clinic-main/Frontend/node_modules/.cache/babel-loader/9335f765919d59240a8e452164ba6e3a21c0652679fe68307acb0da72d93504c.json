{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Alagar_Clinic-main\\\\Alagar_Clinic-main\\\\Frontend\\\\src\\\\components\\\\pharmacystock.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport ExcelJS from \"exceljs\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StockDetailsPage1 = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromExpiryDate, setFromExpiryDate] = useState(null);\n  const [toExpiryDate, setToExpiryDate] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const itemsPerPage = 25;\n  const filteredData = medicineData.filter(item => item.medicinename && item.medicinename.toLowerCase().includes(searchQuery.toLowerCase()) && (!fromExpiryDate || moment(item.expirydate).isSameOrAfter(fromExpiryDate)) && (!toExpiryDate || moment(item.expirydate).isSameOrBefore(toExpiryDate))).sort((a, b) => {\n    return moment(a.expirydate) - moment(b.expirydate);\n  });\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n  const fetchStockData = async () => {\n    try {\n      const response = await axios.get(\"/stock\", {\n        params: {\n          medicinename: searchQuery,\n          fromExpiryDate,\n          toExpiryDate\n        }\n      });\n      setMedicineData(response.data);\n      console.log(response.data);\n    } catch (error) {\n      console.error(\"Error fetching stock data:\", error);\n      if (error.response) {\n        console.error(\"Response status:\", error.response.status);\n        console.error(\"Response data:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"No response received:\", error.request);\n      } else {\n        console.error(\"Request error:\", error.message);\n      }\n    }\n  };\n  useEffect(() => {\n    fetchStockData();\n  }, [searchQuery, fromExpiryDate, toExpiryDate]);\n  useEffect(() => {\n    const fetchStockData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:3000/stock\");\n        setMedicineData(response.data);\n      } catch (error) {\n        setError(\"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStockData();\n  }, []);\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNext = () => {\n    const totalPages = Math.ceil(filteredData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handleSearchChange = query => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromExpiryDate(dateString);\n    setCurrentPage(1);\n  };\n  const handleToDateChange = (date, dateString) => {\n    setToExpiryDate(dateString);\n    setCurrentPage(1);\n  };\n  const exportToExcel = () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet(\"StockData\");\n    worksheet.columns = [{\n      header: \"Purchase Date\",\n      key: \"purchasedate\",\n      width: 15\n    }, {\n      header: \"Medicine Name\",\n      key: \"medicinename\",\n      width: 15\n    }, {\n      header: \"Dosage\",\n      key: \"dosage\",\n      width: 15\n    }, {\n      header: \"Brand Names\",\n      key: \"brandname\",\n      width: 15\n    }, {\n      header: \"Purchase Price\",\n      key: \"purchaseprice\",\n      width: 15\n    }, {\n      header: \"MRP\",\n      key: \"mrp\",\n      width: 15\n    }, {\n      header: \"Total Qty\",\n      key: \"totalqty\",\n      width: 15\n    }, {\n      header: \"Expiry Date\",\n      key: \"expirydate\",\n      width: 15\n    }];\n    const headerRow = worksheet.getRow(1);\n    worksheet.columns.forEach(column => {\n      const cell = headerRow.getCell(column.key);\n      if ([\"purchasedate\", \"medicinename\", \"dosage\", \"brandname\", \"purchaseprice\", \"mrp\", \"totalqty\", \"expirydate\"].includes(column.key)) {\n        cell.fill = {\n          type: \"pattern\",\n          pattern: \"solid\",\n          fgColor: {\n            argb: \"FF001F3F\"\n          }\n        };\n        cell.alignment = {\n          horizontal: \"center\"\n        };\n      }\n      cell.font = {\n        color: {\n          argb: \"FFFFFF\"\n        },\n        bold: true\n      };\n    });\n    filteredData.forEach(item => {\n      const formattedDate = item.purchasedate ? moment(item.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\";\n      const dataRow = worksheet.addRow({\n        purchasedate: formattedDate,\n        medicinename: item.medicinename || \"N/A\",\n        dosage: item.dosage || \"N/A\",\n        brandname: item.brandname || \"N/A\",\n        purchaseprice: item.purchaseprice || \"N/A\",\n        mrp: item.mrp || \"N/A\",\n        totalqty: item.totalqty || \"N/A\",\n        expirydate: item.expirydate ? moment(item.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"\n      });\n      dataRow.alignment = {\n        horizontal: \"center\"\n      };\n      dataRow.eachCell(cell => {\n        cell.border = {\n          top: {\n            style: \"thin\"\n          },\n          left: {\n            style: \"thin\"\n          },\n          bottom: {\n            style: \"thin\"\n          },\n          right: {\n            style: \"thin\"\n          }\n        };\n      });\n    });\n    headerRow.eachCell(cell => {\n      cell.border = {\n        top: {\n          style: \"thin\"\n        },\n        left: {\n          style: \"thin\"\n        },\n        bottom: {\n          style: \"thin\"\n        },\n        right: {\n          style: \"thin\"\n        }\n      };\n    });\n    workbook.xlsx.writeBuffer().then(buffer => {\n      const blob = new Blob([buffer], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"stock.xlsx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    });\n  };\n  const downloadPDF = () => {\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true\n    };\n    const capture = document.querySelector(\".stock-table\");\n    setLoader(true);\n    html2canvas(capture, html2canvasOptions).then(canvas => {\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      };\n      const pdf = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = canvas.height * imageWidth / canvas.width;\n      pdf.setFont(\"helvetica\", \"bold\");\n      pdf.setFontSize(16);\n      pdf.setTextColor(43, 128, 176);\n      const headingText = fromExpiryDate && toExpiryDate ? `Stock Details from ${fromExpiryDate} to ${toExpiryDate}` : \"Stock Details as on Today\";\n      pdf.text(headingText, 10, 10, null, null, \"left\");\n      const headingHeight = 20;\n      const tableStartY = 0 + headingHeight;\n      const firstPageData = filteredData.slice(0, itemsPerPage);\n      const firstPageBodyData = firstPageData.map(currentData => [currentData.purchasedate ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\", currentData.medicinename || \"N/A\", currentData.dosage || \"N/A\", currentData.brandname || \"N/A\", currentData.purchaseprice || \"N/A\", currentData.mrp || \"N/A\", currentData.totalqty || \"N/A\", currentData.expirydate ? moment(currentData.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"]);\n      pdf.autoTable({\n        head: [[\"Purchase Date\", \"Medicine Name\", \"Dosage\", \"Brand Name\", \"Purchase Price\", \"MRP\", \"Total Qty\", \"Expiry Date\"]],\n        body: firstPageBodyData,\n        startY: tableStartY,\n        theme: \"grid\",\n        styles: {\n          fontSize: 9,\n          halign: \"center\"\n        },\n        headerStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          lineWidth: 0.3\n        },\n        columnStyles: {\n          0: {\n            cellWidth: 20,\n            cellHeight: 10\n          },\n          1: {\n            cellWidth: 30,\n            cellHeight: 10\n          }\n        },\n        alternateRowStyles: {\n          fillColor: [224, 224, 224],\n          lineWidth: 0.3\n        }\n      });\n      let rowIndex = itemsPerPage;\n      const numberOfRows = filteredData.length;\n      while (rowIndex < numberOfRows) {\n        pdf.addPage();\n        pdf.text(`Page ${Math.ceil((rowIndex + 1) / itemsPerPage)}`, 10, 10);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(16);\n        pdf.setTextColor(43, 128, 176);\n        const currentPageData = filteredData.slice(rowIndex, rowIndex + itemsPerPage);\n        const bodyData = currentPageData.map(currentData => [currentData.purchasedate ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\", currentData.medicinename || \"N/A\", currentData.dosage || \"N/A\", currentData.brandname || \"N/A\", currentData.purchaseprice || \"N/A\", currentData.mrp || \"N/A\", currentData.totalqty || \"N/A\", currentData.expirydate ? moment(currentData.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"]);\n        pdf.autoTable({\n          head: [[\"Purchase Date\", \"Medicine Name\", \"Dosage\", \"Brand Name\", \"Purchase Price\", \"MRP\", \"Total Qty\", \"Expiry Date\"]],\n          body: bodyData,\n          startY: tableStartY,\n          theme: \"grid\",\n          styles: {\n            fontSize: 9,\n            halign: \"center\"\n          },\n          headerStyles: {\n            fillColor: [41, 128, 185],\n            textColor: 255,\n            lineWidth: 0.3\n          },\n          columnStyles: {\n            0: {\n              cellWidth: 20,\n              cellHeight: 10\n            },\n            1: {\n              cellWidth: 30,\n              cellHeight: 10\n            }\n          },\n          alternateRowStyles: {\n            fillColor: [224, 224, 224],\n            lineWidth: 0.3\n          }\n        });\n        rowIndex += itemsPerPage;\n      }\n      setLoader(false);\n      pdf.save(\"stock.pdf\");\n    });\n  };\n  const tdStyle = {\n    textAlign: \"center\",\n    whiteSpace: \"nowrap\"\n  };\n  const thStyle = {\n    textAlign: \"center\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: \"14px\",\n        fontFamily: \"serif\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"15px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \" Stock Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: \"View your stock list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportToExcel,\n              className: \"export\",\n              children: \"Export as Excel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadPDF,\n              disabled: !(loader === false),\n              className: \"export\",\n              children: loader ? /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Downloading\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Download as PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row align-items-center \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-10 col-md-8 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-bar d-flex align-items-center\",\n              style: {\n                marginLeft: \"0px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search...\",\n                value: searchQuery,\n                style: {\n                  height: \"30px\"\n                },\n                onChange: event => handleSearchChange(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-12 mt-5 mt-md-0 \",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                fontSize: \"18px\",\n                fontFamily: \"serif\",\n                textAlign: \"end\",\n                marginRight: \"100px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Expiry Date Filter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-md-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bold-placeholder me-3\",\n                children: [\"From\", \" \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                  onChange: handleFromDateChange,\n                  className: \"bold-placeholder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 19\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bold-placeholder\",\n                children: [\"To\", \" \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                  onChange: handleToDateChange,\n                  className: \"bold-placeholder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stock-table\",\n        children: dataOnCurrentPage.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No search results found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              overflowX: \"auto\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Stock Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"scrollable-body\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  class: \"sticky-top bg-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Purchase Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Medicine Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Dosage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 465,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Brand Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Purchase Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"MRP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Total Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Expiry Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: dataOnCurrentPage.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.purchasedate ? moment(item.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        ...tdStyle,\n                        textAlign: \"left\"\n                      },\n                      children: item.medicinename || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.dosage || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.brandname || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 485,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.purchaseprice || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 486,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.mrp || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.totalqty || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.expirydate ? moment(item.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 27\n                    }, this)]\n                  }, item.ID, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevious,\n          disabled: currentPage === 1,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", currentPage, \" of \", Math.ceil(filteredData.length / itemsPerPage)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNext,\n          disabled: currentPage === Math.ceil(filteredData.length / itemsPerPage),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n};\n_s(StockDetailsPage1, \"v1UAZ+0mCKSvV+ZB7PoDDjl04Jo=\");\n_c = StockDetailsPage1;\nexport default StockDetailsPage1;\nvar _c;\n$RefreshReg$(_c, \"StockDetailsPage1\");","map":{"version":3,"names":["React","useState","useEffect","axios","FontAwesomeIcon","faSearch","DatePicker","moment","html2canvas","ExcelJS","jsPDF","jsxDEV","_jsxDEV","StockDetailsPage1","_s","searchQuery","setSearchQuery","medicineData","setMedicineData","currentPage","setCurrentPage","fromExpiryDate","setFromExpiryDate","toExpiryDate","setToExpiryDate","loader","setLoader","loading","setLoading","error","setError","itemsPerPage","filteredData","filter","item","medicinename","toLowerCase","includes","expirydate","isSameOrAfter","isSameOrBefore","sort","a","b","startIndex","endIndex","dataOnCurrentPage","slice","fetchStockData","response","get","params","data","console","log","status","request","message","handlePrevious","handleNext","totalPages","Math","ceil","length","handleSearchChange","query","handleFromDateChange","date","dateString","handleToDateChange","exportToExcel","workbook","Workbook","worksheet","addWorksheet","columns","header","key","width","headerRow","getRow","forEach","column","cell","getCell","fill","type","pattern","fgColor","argb","alignment","horizontal","font","color","bold","formattedDate","purchasedate","format","dataRow","addRow","dosage","brandname","purchaseprice","mrp","totalqty","eachCell","border","top","style","left","bottom","right","xlsx","writeBuffer","then","buffer","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","downloadPDF","html2canvasOptions","scale","logging","allowTaint","capture","querySelector","canvas","jsPDFOptions","orientation","unit","pdf","imageWidth","imageHeight","height","setFont","setFontSize","setTextColor","headingText","text","headingHeight","tableStartY","firstPageData","firstPageBodyData","map","currentData","autoTable","head","startY","theme","styles","fontSize","halign","headerStyles","fillColor","textColor","lineWidth","columnStyles","cellWidth","cellHeight","alternateRowStyles","rowIndex","numberOfRows","addPage","currentPageData","bodyData","save","tdStyle","textAlign","whiteSpace","thStyle","children","fontFamily","margin","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","marginLeft","icon","placeholder","value","onChange","event","target","marginRight","overflowX","class","index","ID","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/Alagar_Clinic-main/Alagar_Clinic-main/Frontend/src/components/pharmacystock.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport ExcelJS from \"exceljs\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\n\nconst StockDetailsPage1 = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromExpiryDate, setFromExpiryDate] = useState(null);\n  const [toExpiryDate, setToExpiryDate] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const itemsPerPage = 25;\n\n  const filteredData = medicineData\n    .filter(\n      (item) =>\n        item.medicinename &&\n        item.medicinename.toLowerCase().includes(searchQuery.toLowerCase()) &&\n        (!fromExpiryDate ||\n          moment(item.expirydate).isSameOrAfter(fromExpiryDate)) &&\n        (!toExpiryDate || moment(item.expirydate).isSameOrBefore(toExpiryDate))\n    )\n    .sort((a, b) => {\n      return moment(a.expirydate) - moment(b.expirydate);\n    });\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n\n  const fetchStockData = async () => {\n    try {\n      const response = await axios.get(\"/stock\", {\n        params: { medicinename: searchQuery, fromExpiryDate, toExpiryDate },\n      });\n\n      setMedicineData(response.data);\n      console.log(response.data);\n    } catch (error) {\n      console.error(\"Error fetching stock data:\", error);\n      if (error.response) {\n        console.error(\"Response status:\", error.response.status);\n        console.error(\"Response data:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"No response received:\", error.request);\n      } else {\n        console.error(\"Request error:\", error.message);\n      }\n    }\n  };\n\n  useEffect(() => {\n    fetchStockData();\n  }, [searchQuery, fromExpiryDate, toExpiryDate]);\n\n  useEffect(() => {\n    const fetchStockData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:3000/stock\");\n        setMedicineData(response.data);\n      } catch (error) {\n        setError(\"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStockData();\n  }, []);\n\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleNext = () => {\n    const totalPages = Math.ceil(filteredData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handleSearchChange = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromExpiryDate(dateString);\n    setCurrentPage(1);\n  };\n\n  const handleToDateChange = (date, dateString) => {\n    setToExpiryDate(dateString);\n    setCurrentPage(1);\n  };\n\n  const exportToExcel = () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet(\"StockData\");\n\n    worksheet.columns = [\n      { header: \"Purchase Date\", key: \"purchasedate\", width: 15 },\n      { header: \"Medicine Name\", key: \"medicinename\", width: 15 },\n      { header: \"Dosage\", key: \"dosage\", width: 15 },\n      { header: \"Brand Names\", key: \"brandname\", width: 15 },\n      { header: \"Purchase Price\", key: \"purchaseprice\", width: 15 },\n      { header: \"MRP\", key: \"mrp\", width: 15 },\n      { header: \"Total Qty\", key: \"totalqty\", width: 15 },\n      { header: \"Expiry Date\", key: \"expirydate\", width: 15 },\n    ];\n\n    const headerRow = worksheet.getRow(1);\n\n    worksheet.columns.forEach((column) => {\n      const cell = headerRow.getCell(column.key);\n      if (\n        [\n          \"purchasedate\",\n          \"medicinename\",\n          \"dosage\",\n          \"brandname\",\n          \"purchaseprice\",\n          \"mrp\",\n          \"totalqty\",\n          \"expirydate\",\n        ].includes(column.key)\n      ) {\n        cell.fill = {\n          type: \"pattern\",\n          pattern: \"solid\",\n          fgColor: { argb: \"FF001F3F\" },\n        };\n        cell.alignment = { horizontal: \"center\" };\n      }\n      cell.font = {\n        color: { argb: \"FFFFFF\" },\n        bold: true,\n      };\n    });\n\n    filteredData.forEach((item) => {\n      const formattedDate = item.purchasedate\n        ? moment(item.purchasedate).format(\"YYYY-MM-DD\")\n        : \"N/A\";\n\n      const dataRow = worksheet.addRow({\n        purchasedate: formattedDate,\n        medicinename: item.medicinename || \"N/A\",\n        dosage: item.dosage || \"N/A\",\n        brandname: item.brandname || \"N/A\",\n        purchaseprice: item.purchaseprice || \"N/A\",\n        mrp: item.mrp || \"N/A\",\n        totalqty: item.totalqty || \"N/A\",\n        expirydate: item.expirydate\n          ? moment(item.expirydate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n      });\n\n      dataRow.alignment = { horizontal: \"center\" };\n\n      dataRow.eachCell((cell) => {\n        cell.border = {\n          top: { style: \"thin\" },\n          left: { style: \"thin\" },\n          bottom: { style: \"thin\" },\n          right: { style: \"thin\" },\n        };\n      });\n    });\n\n    headerRow.eachCell((cell) => {\n      cell.border = {\n        top: { style: \"thin\" },\n        left: { style: \"thin\" },\n        bottom: { style: \"thin\" },\n        right: { style: \"thin\" },\n      };\n    });\n\n    workbook.xlsx.writeBuffer().then((buffer) => {\n      const blob = new Blob([buffer], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      });\n      const url = URL.createObjectURL(blob);\n\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"stock.xlsx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    });\n  };\n\n  const downloadPDF = () => {\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true,\n    };\n\n    const capture = document.querySelector(\".stock-table\");\n    setLoader(true);\n\n    html2canvas(capture, html2canvasOptions).then((canvas) => {\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\",\n      };\n\n      const pdf = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = (canvas.height * imageWidth) / canvas.width;\n\n      pdf.setFont(\"helvetica\", \"bold\");\n      pdf.setFontSize(16);\n      pdf.setTextColor(43, 128, 176);\n\n      const headingText =\n        fromExpiryDate && toExpiryDate\n          ? `Stock Details from ${fromExpiryDate} to ${toExpiryDate}`\n          : \"Stock Details as on Today\";\n\n      pdf.text(headingText, 10, 10, null, null, \"left\");\n\n      const headingHeight = 20;\n      const tableStartY = 0 + headingHeight;\n      const firstPageData = filteredData.slice(0, itemsPerPage);\n      const firstPageBodyData = firstPageData.map((currentData) => [\n        currentData.purchasedate\n          ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n        currentData.medicinename || \"N/A\",\n        currentData.dosage || \"N/A\",\n        currentData.brandname || \"N/A\",\n        currentData.purchaseprice || \"N/A\",\n        currentData.mrp || \"N/A\",\n        currentData.totalqty || \"N/A\",\n        currentData.expirydate\n          ? moment(currentData.expirydate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n      ]);\n\n      pdf.autoTable({\n        head: [\n          [\n            \"Purchase Date\",\n            \"Medicine Name\",\n            \"Dosage\",\n            \"Brand Name\",\n            \"Purchase Price\",\n            \"MRP\",\n            \"Total Qty\",\n            \"Expiry Date\",\n          ],\n        ],\n        body: firstPageBodyData,\n        startY: tableStartY,\n        theme: \"grid\",\n        styles: {\n          fontSize: 9,\n          halign: \"center\",\n        },\n        headerStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          lineWidth: 0.3,\n        },\n        columnStyles: {\n          0: { cellWidth: 20, cellHeight: 10 },\n          1: { cellWidth: 30, cellHeight: 10 },\n        },\n        alternateRowStyles: {\n          fillColor: [224, 224, 224],\n          lineWidth: 0.3,\n        },\n      });\n\n      let rowIndex = itemsPerPage;\n      const numberOfRows = filteredData.length;\n\n      while (rowIndex < numberOfRows) {\n        pdf.addPage();\n        pdf.text(`Page ${Math.ceil((rowIndex + 1) / itemsPerPage)}`, 10, 10);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(16);\n        pdf.setTextColor(43, 128, 176);\n\n        const currentPageData = filteredData.slice(\n          rowIndex,\n          rowIndex + itemsPerPage\n        );\n        const bodyData = currentPageData.map((currentData) => [\n          currentData.purchasedate\n            ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\")\n            : \"N/A\",\n          currentData.medicinename || \"N/A\",\n          currentData.dosage || \"N/A\",\n          currentData.brandname || \"N/A\",\n          currentData.purchaseprice || \"N/A\",\n          currentData.mrp || \"N/A\",\n          currentData.totalqty || \"N/A\",\n          currentData.expirydate\n            ? moment(currentData.expirydate).format(\"YYYY-MM-DD\")\n            : \"N/A\",\n        ]);\n\n        pdf.autoTable({\n          head: [\n            [\n              \"Purchase Date\",\n              \"Medicine Name\",\n              \"Dosage\",\n              \"Brand Name\",\n              \"Purchase Price\",\n              \"MRP\",\n              \"Total Qty\",\n              \"Expiry Date\",\n            ],\n          ],\n          body: bodyData,\n          startY: tableStartY,\n          theme: \"grid\",\n          styles: {\n            fontSize: 9,\n            halign: \"center\",\n          },\n          headerStyles: {\n            fillColor: [41, 128, 185],\n            textColor: 255,\n            lineWidth: 0.3,\n          },\n          columnStyles: {\n            0: { cellWidth: 20, cellHeight: 10 },\n            1: { cellWidth: 30, cellHeight: 10 },\n          },\n          alternateRowStyles: {\n            fillColor: [224, 224, 224],\n            lineWidth: 0.3,\n          },\n        });\n\n        rowIndex += itemsPerPage;\n      }\n\n      setLoader(false);\n      pdf.save(\"stock.pdf\");\n    });\n  };\n\n  const tdStyle = {\n    textAlign: \"center\",\n    whiteSpace: \"nowrap\",\n  };\n  const thStyle = {\n    textAlign: \"center\",\n  };\n\n  return (\n    <div>\n      <div\n        style={{\n          fontSize: \"14px\",\n          fontFamily: \"serif\",\n        }}\n      >\n        <div style={{ margin: \"15px\" }}>\n          <div className=\"d-flex align-items-center justify-content-between\">\n            <div>\n              <h2>\n                <b> Stock Details</b>\n              </h2>\n              <h6 style={{ textAlign: \"center\" }}>View your stock list</h6>\n            </div>\n            <div>\n              <button onClick={exportToExcel} className=\"export\">\n                Export as Excel\n              </button>\n              <button\n                onClick={downloadPDF}\n                disabled={!(loader === false)}\n                className=\"export\"\n              >\n                {loader ? (\n                  <span>Downloading</span>\n                ) : (\n                  <span>Download as PDF</span>\n                )}\n              </button>\n            </div>\n          </div>\n          <br />\n\n          <div className=\"row align-items-center \">\n            <div className=\"col-10 col-md-8 \">\n              <div\n                className=\"search-bar d-flex align-items-center\"\n                style={{ marginLeft: \"0px\" }}\n              >\n                <FontAwesomeIcon icon={faSearch} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  value={searchQuery}\n                  style={{ height: \"30px\" }}\n                  onChange={(event) => handleSearchChange(event.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"col-12 col-md-12 mt-5 mt-md-0 \">\n              <h6\n                style={{\n                  fontSize: \"18px\",\n                  fontFamily: \"serif\",\n                  textAlign: \"end\",\n                  marginRight: \"100px\",\n                }}\n              >\n                <b>Expiry Date Filter</b>\n              </h6>\n              <div className=\"d-flex justify-content-md-end\">\n                <span className=\"bold-placeholder me-3\">\n                  From{\" \"}\n                  <DatePicker\n                    onChange={handleFromDateChange}\n                    className=\"bold-placeholder\"\n                  />{\" \"}\n                </span>\n                <span className=\"bold-placeholder\">\n                  To{\" \"}\n                  <DatePicker\n                    onChange={handleToDateChange}\n                    className=\"bold-placeholder\"\n                  />\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"stock-table\">\n          {dataOnCurrentPage.length === 0 ? (\n            <p>No search results found</p>\n          ) : (\n            <div>\n              <div style={{ overflowX: \"auto\" }}>\n                <h2>Stock Details</h2>\n\n                <div class=\"scrollable-body\">\n                  <table class=\"table\">\n                    <thead class=\"sticky-top bg-light\">\n                      <tr>\n                        <th style={thStyle}>Purchase Date</th>\n                        <th style={thStyle}>Medicine Name</th>\n                        <th style={thStyle}>Dosage</th>\n                        <th style={thStyle}>Brand Name</th>\n                        <th style={thStyle}>Purchase Price</th>\n                        <th style={thStyle}>MRP</th>\n                        <th style={thStyle}>Total Qty</th>\n                        <th style={thStyle}>Expiry Date</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {dataOnCurrentPage.map((item, index) => (\n                        <tr key={item.ID}>\n                          <td style={tdStyle}>\n                            {item.purchasedate\n                              ? moment(item.purchasedate).format(\"YYYY-MM-DD\")\n                              : \"N/A\"}\n                          </td>\n                          <td style={{ ...tdStyle, textAlign: \"left\" }}>\n                            {item.medicinename || \"N/A\"}\n                          </td>\n                          <td style={tdStyle}>{item.dosage || \"N/A\"}</td>\n                          <td style={tdStyle}>{item.brandname || \"N/A\"}</td>\n                          <td style={tdStyle}>{item.purchaseprice || \"N/A\"}</td>\n                          <td style={tdStyle}>{item.mrp || \"N/A\"}</td>\n                          <td style={tdStyle}>{item.totalqty || \"N/A\"}</td>\n                          <td style={tdStyle}>\n                            {item.expirydate\n                              ? moment(item.expirydate).format(\"YYYY-MM-DD\")\n                              : \"N/A\"}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"pagination\">\n          <button onClick={handlePrevious} disabled={currentPage === 1}>\n            Previous\n          </button>\n          <span>\n            {\" \"}\n            {currentPage} of {Math.ceil(filteredData.length / itemsPerPage)}\n          </span>\n          <button\n            onClick={handleNext}\n            disabled={\n              currentPage === Math.ceil(filteredData.length / itemsPerPage)\n            }\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StockDetailsPage1;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Alagar_Clinic-main\\\\Alagar_Clinic-main\\\\Frontend\\\\src\\\\components\\\\stock.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit, faTrash, faSearch, faFileExport } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport ExcelJS from \"exceljs\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StockDetailsPage = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromExpiryDate, setFromExpiryDate] = useState(null);\n  const [toExpiryDate, setToExpiryDate] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [editedRows, setEditedRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [editedData, setEditedData] = useState({\n    // ... (your existing properties),\n    originalData: {},\n    // to store the original values\n    lastEditTimestamp: null // to store the timestamp of the last edit\n  });\n\n  const [editMode, setEditMode] = useState(null);\n  const itemsPerPage = 25;\n  const filteredData = medicineData.filter(item => item.medicinename && item.medicinename.toLowerCase().includes(searchQuery.toLowerCase()) && (!fromExpiryDate || moment(item.expirydate).isSameOrAfter(fromExpiryDate)) && (!toExpiryDate || moment(item.expirydate).isSameOrBefore(toExpiryDate))).sort((a, b) => {\n    return moment(a.expirydate) - moment(b.expirydate);\n  });\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n  const fetchStockData = async () => {\n    try {\n      const response = await axios.get(\"/stock\", {\n        params: {\n          medicinename: searchQuery,\n          fromExpiryDate,\n          toExpiryDate\n        }\n      });\n      setMedicineData(response.data);\n      console.log(\"Updated Medicine Data:\", response.data);\n    } catch (error) {\n      console.error(\"Error fetching stock data:\", error);\n      if (error.response) {\n        console.error(\"Response status:\", error.response.status);\n        console.error(\"Response data:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"No response received:\", error.request);\n      } else {\n        console.error(\"Request error:\", error.message);\n      }\n    }\n  };\n  useEffect(() => {\n    fetchStockData();\n  }, [searchQuery, fromExpiryDate, toExpiryDate]);\n  useEffect(() => {\n    const fetchStockData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:3000/stock\");\n        setMedicineData(response.data);\n      } catch (error) {\n        setError(\"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStockData();\n  }, []);\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNext = () => {\n    const totalPages = Math.ceil(filteredData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handleSearchChange = query => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromExpiryDate(moment(dateString).startOf('day').toISOString());\n    setCurrentPage(1);\n  };\n  const handleToDateChange = (date, dateString) => {\n    setToExpiryDate(moment(dateString).endOf('day').toISOString());\n    setCurrentPage(1);\n  };\n  const handleSaveEdit = async (id, updatedData) => {\n    try {\n      const response = await axios.put(`http://localhost:3000/stock/update/${id}`, updatedData);\n      setEditedRows(prevEditedRows => [...prevEditedRows, {\n        id,\n        timestamp: new Date()\n      }]);\n      setMedicineData(prevMedicineData => {\n        const updatedMedicineData = prevMedicineData.map(item => item.id === id ? {\n          ...item,\n          ...updatedData\n        } : item);\n        return updatedMedicineData;\n      });\n      setEditMode(null);\n      alert(\"Stock item updated successfully\");\n    } catch (error) {\n      console.error(\"Error updating stock item:\", error);\n      alert(\"Error updating stock item. Please try again later.\");\n    }\n  };\n  const handleDelete = async id => {\n    console.log(\"Deleting item with ID:\", id);\n    if (window.confirm(\"Are you sure you want to delete this item?\")) {\n      try {\n        const response = await axios.delete(`http://localhost:3000/stock/delete/${id}`);\n        console.log(\"Delete response:\", response.data);\n        if (response.status === 200) {\n          setMedicineData(prevMedicineData => prevMedicineData.filter(item => item.id !== id));\n          alert(\"Stock item deleted successfully\");\n        } else {\n          alert(\"Failed to delete stock item. Please try again later.\");\n        }\n      } catch (error) {\n        console.error(\"Error deleting stock item:\", error);\n        alert(\"Error deleting stock item. Please try again later.\");\n      }\n    }\n  };\n  const handleEdit = id => {\n    const editedItem = medicineData.find(item => item.id === id);\n    setEditMode(id);\n    setEditedData({\n      ...editedItem,\n      originalData: {\n        ...editedItem\n      },\n      lastEditTimestamp: new Date()\n    });\n  };\n  const isRowEdited = id => editedRows.some(row => row.id === id);\n  const handleCancelEdit = () => {\n    setEditMode(null);\n    setEditedData({});\n  };\n  const handleChangeEditData = (name, value) => {\n    setEditedData(prevData => ({\n      ...prevData,\n      [name]: value,\n      lastEditTimestamp: new Date()\n    }));\n  };\n  const exportToExcel = () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet(\"StockData\");\n    worksheet.columns = [{\n      header: \"Purchase Date\",\n      key: \"purchasedate\",\n      width: 15\n    }, {\n      header: \"Medicine Name\",\n      key: \"medicinename\",\n      width: 15\n    }, {\n      header: \"Dosage\",\n      key: \"dosage\",\n      width: 15\n    }, {\n      header: \"Brand Names\",\n      key: \"brandname\",\n      width: 15\n    }, {\n      header: \"Purchase Price\",\n      key: \"purchaseprice\",\n      width: 15\n    }, {\n      header: \"MRP\",\n      key: \"mrp\",\n      width: 15\n    }, {\n      header: \"Total Qty\",\n      key: \"totalqty\",\n      width: 15\n    }, {\n      header: \"Expiry Date\",\n      key: \"expirydate\",\n      width: 15\n    }];\n    const headerRow = worksheet.getRow(1);\n    worksheet.columns.forEach(column => {\n      const cell = headerRow.getCell(column.key);\n      if ([\"purchasedate\", \"medicinename\", \"dosage\", \"brandname\", \"purchaseprice\", \"mrp\", \"totalqty\", \"expirydate\"].includes(column.key)) {\n        cell.fill = {\n          type: \"pattern\",\n          pattern: \"solid\",\n          fgColor: {\n            argb: \"FF001F3F\"\n          }\n        };\n        cell.alignment = {\n          horizontal: \"center\"\n        };\n      }\n      cell.font = {\n        color: {\n          argb: \"FFFFFF\"\n        },\n        bold: true\n      };\n    });\n    filteredData.forEach(item => {\n      const formattedDate = item.purchasedate ? moment(item.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\";\n      const dataRow = worksheet.addRow({\n        purchasedate: formattedDate,\n        medicinename: item.medicinename || \"N/A\",\n        dosage: item.dosage || \"N/A\",\n        brandname: item.brandname || \"N/A\",\n        purchaseprice: item.purchaseprice || \"N/A\",\n        mrp: item.mrp || \"N/A\",\n        totalqty: item.totalqty || \"N/A\",\n        expirydate: item.expirydate ? moment(item.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"\n      });\n      dataRow.alignment = {\n        horizontal: \"center\"\n      };\n      dataRow.eachCell(cell => {\n        cell.border = {\n          top: {\n            style: \"thin\"\n          },\n          left: {\n            style: \"thin\"\n          },\n          bottom: {\n            style: \"thin\"\n          },\n          right: {\n            style: \"thin\"\n          }\n        };\n      });\n    });\n    headerRow.eachCell(cell => {\n      cell.border = {\n        top: {\n          style: \"thin\"\n        },\n        left: {\n          style: \"thin\"\n        },\n        bottom: {\n          style: \"thin\"\n        },\n        right: {\n          style: \"thin\"\n        }\n      };\n    });\n    workbook.xlsx.writeBuffer().then(buffer => {\n      const blob = new Blob([buffer], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"stock.xlsx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    });\n  };\n  const downloadPDF = () => {\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true\n    };\n    const capture = document.querySelector(\".stock-table\");\n    setLoader(true);\n    html2canvas(capture, html2canvasOptions).then(canvas => {\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      };\n      const pdf = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = canvas.height * imageWidth / canvas.width;\n      pdf.setFont(\"helvetica\", \"bold\");\n      pdf.setFontSize(16);\n      pdf.setTextColor(43, 128, 176);\n      const headingText = fromExpiryDate && toExpiryDate ? `Stock Details from ${moment(fromExpiryDate).format(\"YYYY-MM-DD\")} to ${moment(toExpiryDate).format(\"YYYY-MM-DD\")}` : \"Stock Details as on Today\";\n      pdf.text(headingText, 10, 10, null, null, \"left\");\n      const headingHeight = 20;\n      const tableStartY = 0 + headingHeight;\n      const firstPageData = filteredData.slice(0, itemsPerPage);\n      const firstPageBodyData = firstPageData.map(currentData => [currentData.purchasedate ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\", currentData.medicinename || \"N/A\", currentData.dosage || \"N/A\", currentData.brandname || \"N/A\", currentData.purchaseprice || \"N/A\", currentData.mrp || \"N/A\", currentData.totalqty || \"N/A\", currentData.expirydate ? moment(currentData.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"]);\n      pdf.autoTable({\n        head: [[\"Purchase Date\", \"Medicine Name\", \"Dosage\", \"Brand Name\", \"Purchase Price\", \"Purchase Amount\", \"MRP\", \"Total Qty\", \"Expiry Date\"]],\n        body: firstPageBodyData,\n        startY: tableStartY,\n        theme: \"grid\",\n        styles: {\n          fontSize: 9,\n          halign: \"center\"\n        },\n        headerStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          lineWidth: 0.3\n        },\n        columnStyles: {\n          0: {\n            cellWidth: 20,\n            cellHeight: 10\n          },\n          1: {\n            cellWidth: 30,\n            cellHeight: 10\n          }\n        },\n        alternateRowStyles: {\n          fillColor: [224, 224, 224],\n          lineWidth: 0.3\n        }\n      });\n      let rowIndex = itemsPerPage;\n      const numberOfRows = filteredData.length;\n      while (rowIndex < numberOfRows) {\n        pdf.addPage();\n        pdf.text(`Page ${Math.ceil((rowIndex + 1) / itemsPerPage)}`, 10, 10);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(16);\n        pdf.setTextColor(43, 128, 176);\n        const currentPageData = filteredData.slice(rowIndex, rowIndex + itemsPerPage);\n        const bodyData = currentPageData.map(currentData => [currentData.purchasedate ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\", currentData.medicinename || \"N/A\", currentData.dosage || \"N/A\", currentData.brandname || \"N/A\", currentData.purchaseprice || \"N/A\", currentData.mrp || \"N/A\", currentData.totalqty || \"N/A\", currentData.expirydate ? moment(currentData.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"]);\n        pdf.autoTable({\n          head: [[\"Purchase Date\", \"Medicine Name\", \"Dosage\", \"Brand Name\", \"Purchase Price\", \"Purchase Amount\", \"MRP\", \"Total Qty\", \"Expiry Date\"]],\n          body: bodyData,\n          startY: tableStartY,\n          theme: \"grid\",\n          styles: {\n            fontSize: 9,\n            halign: \"center\"\n          },\n          headerStyles: {\n            fillColor: [41, 128, 185],\n            textColor: 255,\n            lineWidth: 0.3\n          },\n          columnStyles: {\n            0: {\n              cellWidth: 20,\n              cellHeight: 10\n            },\n            1: {\n              cellWidth: 30,\n              cellHeight: 10\n            }\n          },\n          alternateRowStyles: {\n            fillColor: [224, 224, 224],\n            lineWidth: 0.3\n          }\n        });\n        rowIndex += itemsPerPage;\n      }\n      setLoader(false);\n      pdf.save(\"stock.pdf\");\n    });\n  };\n  const tdStyle = {\n    textAlign: \"center\",\n    whiteSpace: \"nowrap\"\n  };\n  const thStyle = {\n    textAlign: \"center\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        fontFamily: \"serif\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"15px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \" Stock Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: \"View your stock list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportToExcel,\n              className: \"export\",\n              children: \"Export as Excel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadPDF,\n              disabled: !(loader === false),\n              className: \"export\",\n              children: loader ? /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Downloading\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Download as PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row align-items-center \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-10 col-md-8 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-bar d-flex align-items-center\",\n              style: {\n                marginLeft: \"0px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search...\",\n                value: searchQuery,\n                style: {\n                  height: \"30px\"\n                },\n                onChange: event => handleSearchChange(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-12 mt-5 mt-md-0 \",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                fontSize: \"18px\",\n                fontFamily: \"serif\",\n                textAlign: \"end\",\n                marginRight: \"100px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Expiry Date Filter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-md-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bold-placeholder me-3\",\n                children: [\"From\", \" \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                  onChange: handleFromDateChange,\n                  className: \"bold-placeholder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 19\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bold-placeholder\",\n                children: [\"To\", \" \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                  onChange: handleToDateChange,\n                  className: \"bold-placeholder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stock-table\",\n        style: {\n          marginLeft: \"0px\"\n        },\n        children: dataOnCurrentPage.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No search results found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              overflowX: \"auto\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center\",\n              children: \"Stock Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"scrollable-body\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  class: \"sticky-top bg-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Purchase Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Medicine Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Dosage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Brand Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Purchase Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 570,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"MRP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 571,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Total Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 572,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Expiry Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 575,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: thStyle,\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filteredData.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.purchasedate ? moment(item.purchasedate).format(\"YYYY-MM-DD\") : \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        ...tdStyle,\n                        textAlign: \"left\"\n                      },\n                      children: item.medicinename || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 588,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: item.dosage || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: editMode === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: editedData.brandname,\n                        onChange: e => handleChangeEditData(\"brandname\", e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 594,\n                        columnNumber: 31\n                      }, this) : item.brandname || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: editMode === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: editedData.purchaseprice,\n                        onChange: e => handleChangeEditData(\"purchaseprice\", e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 610,\n                        columnNumber: 31\n                      }, this) : item.purchaseprice || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: editMode === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: editedData.mrp,\n                        onChange: e => handleChangeEditData(\"mrp\", e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 627,\n                        columnNumber: 31\n                      }, this) : item.mrp || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 625,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: editMode === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: editedData.totalqty,\n                        onChange: e => handleChangeEditData(\"totalqty\", e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 640,\n                        columnNumber: 31\n                      }, this) : item.totalqty || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: editMode === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: editedData.expirydate,\n                        onChange: e => handleChangeEditData(\"expirydate\", e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 656,\n                        columnNumber: 31\n                      }, this) : item.expirydate ? moment(item.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 654,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: isRowEdited(item.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: \"orange\"\n                        },\n                        children: \"Edited\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 674,\n                        columnNumber: 31\n                      }, this) : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 672,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: editMode === item.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleSaveEdit(item.id, editedData),\n                          style: {\n                            marginRight: \"5px\"\n                          },\n                          children: \"Save\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 680,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: handleCancelEdit,\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 688,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faEdit,\n                        onClick: () => handleEdit(item.id),\n                        style: {\n                          cursor: \"pointer\",\n                          marginRight: \"10px\",\n                          color: \"blue\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 693,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 677,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: tdStyle,\n                      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faTrash,\n                        onClick: () => handleDelete(item.id),\n                        style: {\n                          cursor: \"pointer\",\n                          marginRight: \"10px\",\n                          color: \"red\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 704,\n                      columnNumber: 27\n                    }, this)]\n                  }, item.ID, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevious,\n          disabled: currentPage === 1,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", currentPage, \" of \", Math.ceil(filteredData.length / itemsPerPage)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNext,\n          disabled: currentPage === Math.ceil(filteredData.length / itemsPerPage),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 473,\n    columnNumber: 5\n  }, this);\n};\n_s(StockDetailsPage, \"5MoxVSf6GMEuPFWAmA5c1G2c1LE=\");\n_c = StockDetailsPage;\nexport default StockDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"StockDetailsPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","FontAwesomeIcon","faEdit","faTrash","faSearch","faFileExport","DatePicker","moment","html2canvas","ExcelJS","jsPDF","jsxDEV","_jsxDEV","Fragment","_Fragment","StockDetailsPage","_s","searchQuery","setSearchQuery","medicineData","setMedicineData","currentPage","setCurrentPage","fromExpiryDate","setFromExpiryDate","toExpiryDate","setToExpiryDate","loader","setLoader","editedRows","setEditedRows","loading","setLoading","error","setError","editedData","setEditedData","originalData","lastEditTimestamp","editMode","setEditMode","itemsPerPage","filteredData","filter","item","medicinename","toLowerCase","includes","expirydate","isSameOrAfter","isSameOrBefore","sort","a","b","startIndex","endIndex","dataOnCurrentPage","slice","fetchStockData","response","get","params","data","console","log","status","request","message","handlePrevious","handleNext","totalPages","Math","ceil","length","handleSearchChange","query","handleFromDateChange","date","dateString","startOf","toISOString","handleToDateChange","endOf","handleSaveEdit","id","updatedData","put","prevEditedRows","timestamp","Date","prevMedicineData","updatedMedicineData","map","alert","handleDelete","window","confirm","delete","handleEdit","editedItem","find","isRowEdited","some","row","handleCancelEdit","handleChangeEditData","name","value","prevData","exportToExcel","workbook","Workbook","worksheet","addWorksheet","columns","header","key","width","headerRow","getRow","forEach","column","cell","getCell","fill","type","pattern","fgColor","argb","alignment","horizontal","font","color","bold","formattedDate","purchasedate","format","dataRow","addRow","dosage","brandname","purchaseprice","mrp","totalqty","eachCell","border","top","style","left","bottom","right","xlsx","writeBuffer","then","buffer","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","downloadPDF","html2canvasOptions","scale","logging","allowTaint","capture","querySelector","canvas","jsPDFOptions","orientation","unit","pdf","imageWidth","imageHeight","height","setFont","setFontSize","setTextColor","headingText","text","headingHeight","tableStartY","firstPageData","firstPageBodyData","currentData","autoTable","head","startY","theme","styles","fontSize","halign","headerStyles","fillColor","textColor","lineWidth","columnStyles","cellWidth","cellHeight","alternateRowStyles","rowIndex","numberOfRows","addPage","currentPageData","bodyData","save","tdStyle","textAlign","whiteSpace","thStyle","children","marginTop","fontFamily","margin","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","marginLeft","icon","placeholder","onChange","event","target","marginRight","overflowX","class","index","e","cursor","ID","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/Alagar_Clinic-main/Alagar_Clinic-main/Frontend/src/components/stock.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faEdit,\n  faTrash,\n  faSearch,\n  faFileExport,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport ExcelJS from \"exceljs\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\n\nconst StockDetailsPage = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromExpiryDate, setFromExpiryDate] = useState(null);\n  const [toExpiryDate, setToExpiryDate] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [editedRows, setEditedRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [editedData, setEditedData] = useState({\n    // ... (your existing properties),\n    originalData: {}, // to store the original values\n    lastEditTimestamp: null, // to store the timestamp of the last edit\n  });\n  const [editMode, setEditMode] = useState(null);\n  const itemsPerPage = 25;\n\n  const filteredData = medicineData\n    .filter(\n      (item) =>\n        item.medicinename &&\n        item.medicinename.toLowerCase().includes(searchQuery.toLowerCase()) &&\n        (!fromExpiryDate ||\n          moment(item.expirydate).isSameOrAfter(fromExpiryDate)) &&\n        (!toExpiryDate || moment(item.expirydate).isSameOrBefore(toExpiryDate))\n    )\n    .sort((a, b) => {\n      return moment(a.expirydate) - moment(b.expirydate);\n    });\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n\n  const fetchStockData = async () => {\n    try {\n      const response = await axios.get(\"/stock\", {\n        params: { medicinename: searchQuery, fromExpiryDate, toExpiryDate },\n      });\n\n      setMedicineData(response.data);\n      console.log(\"Updated Medicine Data:\", response.data);\n    } catch (error) {\n      console.error(\"Error fetching stock data:\", error);\n      if (error.response) {\n        console.error(\"Response status:\", error.response.status);\n        console.error(\"Response data:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"No response received:\", error.request);\n      } else {\n        console.error(\"Request error:\", error.message);\n      }\n    }\n  };\n\n  useEffect(() => {\n    fetchStockData();\n  }, [searchQuery, fromExpiryDate, toExpiryDate]);\n\n  useEffect(() => {\n    const fetchStockData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:3000/stock\");\n        setMedicineData(response.data);\n      } catch (error) {\n        setError(\"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStockData();\n  }, []);\n\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleNext = () => {\n    const totalPages = Math.ceil(filteredData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handleSearchChange = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromExpiryDate(moment(dateString).startOf('day').toISOString());\n    setCurrentPage(1); \n  };\n  \n  const handleToDateChange = (date, dateString) => {\n    setToExpiryDate(moment(dateString).endOf('day').toISOString());\n    setCurrentPage(1); \n  };\n\n\n  const handleSaveEdit = async (id, updatedData) => {\n    try {\n      const response = await axios.put(\n        `http://localhost:3000/stock/update/${id}`,\n        updatedData\n      );\n\n      setEditedRows((prevEditedRows) => [\n        ...prevEditedRows,\n        { id, timestamp: new Date() },\n      ]);\n\n      setMedicineData((prevMedicineData) => {\n        const updatedMedicineData = prevMedicineData.map((item) =>\n          item.id === id ? { ...item, ...updatedData } : item\n        );\n        return updatedMedicineData;\n      });\n\n      setEditMode(null);\n      alert(\"Stock item updated successfully\");\n    } catch (error) {\n      console.error(\"Error updating stock item:\", error);\n      alert(\"Error updating stock item. Please try again later.\");\n    }\n  };\n\n  const handleDelete = async (id) => {\n    console.log(\"Deleting item with ID:\", id);\n\n    if (window.confirm(\"Are you sure you want to delete this item?\")) {\n      try {\n        const response = await axios.delete(\n          `http://localhost:3000/stock/delete/${id}`\n        );\n        console.log(\"Delete response:\", response.data);\n\n        if (response.status === 200) {\n          setMedicineData((prevMedicineData) =>\n            prevMedicineData.filter((item) => item.id !== id)\n          );\n\n          alert(\"Stock item deleted successfully\");\n        } else {\n          alert(\"Failed to delete stock item. Please try again later.\");\n        }\n      } catch (error) {\n        console.error(\"Error deleting stock item:\", error);\n        alert(\"Error deleting stock item. Please try again later.\");\n      }\n    }\n  };\n\n  const handleEdit = (id) => {\n    const editedItem = medicineData.find((item) => item.id === id);\n    setEditMode(id);\n    setEditedData({\n      ...editedItem,\n      originalData: { ...editedItem },\n      lastEditTimestamp: new Date(),\n    });\n  };\n\n  const isRowEdited = (id) => editedRows.some((row) => row.id === id);\n\n  const handleCancelEdit = () => {\n    setEditMode(null);\n    setEditedData({});\n  };\n\n  const handleChangeEditData = (name, value) => {\n    setEditedData((prevData) => ({\n      ...prevData,\n      [name]: value,\n      lastEditTimestamp: new Date(),\n    }));\n  };\n\n  const exportToExcel = () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet(\"StockData\");\n\n    worksheet.columns = [\n      { header: \"Purchase Date\", key: \"purchasedate\", width: 15 },\n      { header: \"Medicine Name\", key: \"medicinename\", width: 15 },\n      { header: \"Dosage\", key: \"dosage\", width: 15 },\n      { header: \"Brand Names\", key: \"brandname\", width: 15 },\n      { header: \"Purchase Price\", key: \"purchaseprice\", width: 15 },\n\n      { header: \"MRP\", key: \"mrp\", width: 15 },\n      { header: \"Total Qty\", key: \"totalqty\", width: 15 },\n      { header: \"Expiry Date\", key: \"expirydate\", width: 15 },\n    ];\n\n    const headerRow = worksheet.getRow(1);\n\n    worksheet.columns.forEach((column) => {\n      const cell = headerRow.getCell(column.key);\n      if (\n        [\n          \"purchasedate\",\n          \"medicinename\",\n          \"dosage\",\n          \"brandname\",\n          \"purchaseprice\",\n\n          \"mrp\",\n          \"totalqty\",\n          \"expirydate\",\n        ].includes(column.key)\n      ) {\n        cell.fill = {\n          type: \"pattern\",\n          pattern: \"solid\",\n          fgColor: { argb: \"FF001F3F\" },\n        };\n        cell.alignment = { horizontal: \"center\" };\n      }\n      cell.font = {\n        color: { argb: \"FFFFFF\" },\n        bold: true,\n      };\n    });\n\n    filteredData.forEach((item) => {\n      const formattedDate = item.purchasedate\n        ? moment(item.purchasedate).format(\"YYYY-MM-DD\")\n        : \"N/A\";\n\n      const dataRow = worksheet.addRow({\n        purchasedate: formattedDate,\n        medicinename: item.medicinename || \"N/A\",\n        dosage: item.dosage || \"N/A\",\n        brandname: item.brandname || \"N/A\",\n        purchaseprice: item.purchaseprice || \"N/A\",\n\n        mrp: item.mrp || \"N/A\",\n        totalqty: item.totalqty || \"N/A\",\n        expirydate: item.expirydate\n          ? moment(item.expirydate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n      });\n\n      dataRow.alignment = { horizontal: \"center\" };\n\n      dataRow.eachCell((cell) => {\n        cell.border = {\n          top: { style: \"thin\" },\n          left: { style: \"thin\" },\n          bottom: { style: \"thin\" },\n          right: { style: \"thin\" },\n        };\n      });\n    });\n\n    headerRow.eachCell((cell) => {\n      cell.border = {\n        top: { style: \"thin\" },\n        left: { style: \"thin\" },\n        bottom: { style: \"thin\" },\n        right: { style: \"thin\" },\n      };\n    });\n\n    workbook.xlsx.writeBuffer().then((buffer) => {\n      const blob = new Blob([buffer], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      });\n      const url = URL.createObjectURL(blob);\n\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"stock.xlsx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    });\n  };\n\n  const downloadPDF = () => {\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true,\n    };\n\n    const capture = document.querySelector(\".stock-table\");\n    setLoader(true);\n\n    html2canvas(capture, html2canvasOptions).then((canvas) => {\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\",\n      };\n\n      const pdf = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = (canvas.height * imageWidth) / canvas.width;\n\n      pdf.setFont(\"helvetica\", \"bold\");\n      pdf.setFontSize(16);\n      pdf.setTextColor(43, 128, 176);\n\n      const headingText =\n        fromExpiryDate && toExpiryDate\n          ? `Stock Details from ${moment(fromExpiryDate).format(\n              \"YYYY-MM-DD\"\n            )} to ${moment(toExpiryDate).format(\"YYYY-MM-DD\")}`\n          : \"Stock Details as on Today\";\n\n      pdf.text(headingText, 10, 10, null, null, \"left\");\n\n      const headingHeight = 20;\n      const tableStartY = 0 + headingHeight;\n      const firstPageData = filteredData.slice(0, itemsPerPage);\n      const firstPageBodyData = firstPageData.map((currentData) => [\n        currentData.purchasedate\n          ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n        currentData.medicinename || \"N/A\",\n        currentData.dosage || \"N/A\",\n        currentData.brandname || \"N/A\",\n        currentData.purchaseprice || \"N/A\",\n\n        currentData.mrp || \"N/A\",\n        currentData.totalqty || \"N/A\",\n        currentData.expirydate\n          ? moment(currentData.expirydate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n      ]);\n\n      pdf.autoTable({\n        head: [\n          [\n            \"Purchase Date\",\n            \"Medicine Name\",\n            \"Dosage\",\n            \"Brand Name\",\n            \"Purchase Price\",\n            \"Purchase Amount\",\n            \"MRP\",\n            \"Total Qty\",\n            \"Expiry Date\",\n          ],\n        ],\n        body: firstPageBodyData,\n        startY: tableStartY,\n        theme: \"grid\",\n        styles: {\n          fontSize: 9,\n          halign: \"center\",\n        },\n        headerStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          lineWidth: 0.3,\n        },\n        columnStyles: {\n          0: { cellWidth: 20, cellHeight: 10 },\n          1: { cellWidth: 30, cellHeight: 10 },\n        },\n        alternateRowStyles: {\n          fillColor: [224, 224, 224],\n          lineWidth: 0.3,\n        },\n      });\n\n      let rowIndex = itemsPerPage;\n      const numberOfRows = filteredData.length;\n\n      while (rowIndex < numberOfRows) {\n        pdf.addPage();\n        pdf.text(`Page ${Math.ceil((rowIndex + 1) / itemsPerPage)}`, 10, 10);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(16);\n        pdf.setTextColor(43, 128, 176);\n\n        const currentPageData = filteredData.slice(\n          rowIndex,\n          rowIndex + itemsPerPage\n        );\n        const bodyData = currentPageData.map((currentData) => [\n          currentData.purchasedate\n            ? moment(currentData.purchasedate).format(\"YYYY-MM-DD\")\n            : \"N/A\",\n          currentData.medicinename || \"N/A\",\n          currentData.dosage || \"N/A\",\n          currentData.brandname || \"N/A\",\n          currentData.purchaseprice || \"N/A\",\n\n          currentData.mrp || \"N/A\",\n          currentData.totalqty || \"N/A\",\n          currentData.expirydate\n            ? moment(currentData.expirydate).format(\"YYYY-MM-DD\")\n            : \"N/A\",\n        ]);\n\n        pdf.autoTable({\n          head: [\n            [\n              \"Purchase Date\",\n              \"Medicine Name\",\n              \"Dosage\",\n              \"Brand Name\",\n              \"Purchase Price\",\n              \"Purchase Amount\",\n              \"MRP\",\n              \"Total Qty\",\n              \"Expiry Date\",\n            ],\n          ],\n          body: bodyData,\n          startY: tableStartY,\n          theme: \"grid\",\n          styles: {\n            fontSize: 9,\n            halign: \"center\",\n          },\n          headerStyles: {\n            fillColor: [41, 128, 185],\n            textColor: 255,\n            lineWidth: 0.3,\n          },\n          columnStyles: {\n            0: { cellWidth: 20, cellHeight: 10 },\n            1: { cellWidth: 30, cellHeight: 10 },\n          },\n          alternateRowStyles: {\n            fillColor: [224, 224, 224],\n            lineWidth: 0.3,\n          },\n        });\n\n        rowIndex += itemsPerPage;\n      }\n\n      setLoader(false);\n      pdf.save(\"stock.pdf\");\n    });\n  };\n\n  const tdStyle = {\n    textAlign: \"center\",\n    whiteSpace: \"nowrap\",\n  };\n  const thStyle = {\n    textAlign: \"center\",\n  };\n\n  return (\n    <div>\n      <div\n        style={{\n          marginTop: \"10px\",\n          fontFamily: \"serif\",\n        }}\n      >\n        <div style={{ margin: \"15px\" }}>\n          <div className=\"d-flex align-items-center justify-content-between\">\n            <div>\n              <h2>\n                <b> Stock Details</b>\n              </h2>\n              <h6 style={{ textAlign: \"center\" }}>View your stock list</h6>\n            </div>\n            <div>\n              <button onClick={exportToExcel} className=\"export\">\n                Export as Excel\n              </button>\n              <button\n                onClick={downloadPDF}\n                disabled={!(loader === false)}\n                className=\"export\"\n              >\n                {loader ? (\n                  <span>Downloading</span>\n                ) : (\n                  <span>Download as PDF</span>\n                )}\n              </button>\n            </div>\n          </div>\n          <br />\n\n          <div className=\"row align-items-center \">\n            <div className=\"col-10 col-md-8 \">\n              <div\n                className=\"search-bar d-flex align-items-center\"\n                style={{ marginLeft: \"0px\" }}\n              >\n                <FontAwesomeIcon icon={faSearch} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  value={searchQuery}\n                  style={{ height: \"30px\" }}\n                  onChange={(event) => handleSearchChange(event.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"col-12 col-md-12 mt-5 mt-md-0 \">\n              <h6\n                style={{\n                  fontSize: \"18px\",\n                  fontFamily: \"serif\",\n                  textAlign: \"end\",\n                  marginRight: \"100px\",\n                }}\n              >\n                <b>Expiry Date Filter</b>\n              </h6>\n              <div className=\"d-flex justify-content-md-end\">\n                <span className=\"bold-placeholder me-3\">\n                  From{\" \"}\n                  <DatePicker\n                    onChange={handleFromDateChange}\n                    className=\"bold-placeholder\"\n                  />{\" \"}\n                </span>\n                <span className=\"bold-placeholder\">\n                  To{\" \"}\n                  <DatePicker\n                    onChange={handleToDateChange}\n                    className=\"bold-placeholder\"\n                  />\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"stock-table\" style={{ marginLeft: \"0px\" }}>\n          {dataOnCurrentPage.length === 0 ? (\n            <p>No search results found</p>\n          ) : (\n            <div>\n              <div style={{ overflowX: \"auto\" }}>\n                <h2 className=\"text-center\">Stock Details</h2>\n\n                <div class=\"scrollable-body\">\n                  <table class=\"table\">\n                    <thead class=\"sticky-top bg-light\">\n                      <tr>\n                        <th style={thStyle}>Purchase Date</th>\n                        <th style={thStyle}>Medicine Name</th>\n                        <th style={thStyle}>Dosage</th>\n                        <th style={thStyle}>Brand Name</th>\n                        <th style={thStyle}>Purchase Price</th>\n                        <th style={thStyle}>MRP</th>\n                        <th style={thStyle}>Total Qty</th>\n                        <th style={thStyle}>Expiry Date</th>\n                        <th style={thStyle}></th>\n                        <th style={thStyle}>Edit</th>\n                        <th style={thStyle}>Delete</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {filteredData.map((item, index) => (\n                        <tr key={item.ID}>\n                          <td style={tdStyle}>\n                            {item.purchasedate\n                              ? moment(item.purchasedate).format(\"YYYY-MM-DD\")\n                              : \"N/A\"}\n                          </td>\n\n                          <td style={{ ...tdStyle, textAlign: \"left\" }}>\n                            {item.medicinename || \"N/A\"}\n                          </td>\n                          <td style={tdStyle}>{item.dosage || \"N/A\"}</td>\n                          <td style={tdStyle}>\n                            {editMode === item.id ? (\n                              <input\n                                type=\"text\"\n                                value={editedData.brandname}\n                                onChange={(e) =>\n                                  handleChangeEditData(\n                                    \"brandname\",\n                                    e.target.value\n                                  )\n                                }\n                              />\n                            ) : (\n                              item.brandname || \"N/A\"\n                            )}\n                          </td>\n                          <td style={tdStyle}>\n                            {editMode === item.id ? (\n                              <input\n                                type=\"text\"\n                                value={editedData.purchaseprice}\n                                onChange={(e) =>\n                                  handleChangeEditData(\n                                    \"purchaseprice\",\n                                    e.target.value\n                                  )\n                                }\n                              />\n                            ) : (\n                              item.purchaseprice || \"N/A\"\n                            )}\n                          </td>\n\n                          <td style={tdStyle}>\n                            {editMode === item.id ? (\n                              <input\n                                type=\"text\"\n                                value={editedData.mrp}\n                                onChange={(e) =>\n                                  handleChangeEditData(\"mrp\", e.target.value)\n                                }\n                              />\n                            ) : (\n                              item.mrp || \"N/A\"\n                            )}\n                          </td>\n                          <td style={tdStyle}>\n                            {editMode === item.id ? (\n                              <input\n                                type=\"text\"\n                                value={editedData.totalqty}\n                                onChange={(e) =>\n                                  handleChangeEditData(\n                                    \"totalqty\",\n                                    e.target.value\n                                  )\n                                }\n                              />\n                            ) : (\n                              item.totalqty || \"N/A\"\n                            )}\n                          </td>\n                          <td style={tdStyle}>\n                            {editMode === item.id ? (\n                              <input\n                                type=\"text\"\n                                value={editedData.expirydate}\n                                onChange={(e) =>\n                                  handleChangeEditData(\n                                    \"expirydate\",\n                                    e.target.value\n                                  )\n                                }\n                              />\n                            ) : item.expirydate ? (\n                              moment(item.expirydate).format(\"YYYY-MM-DD\")\n                            ) : (\n                              \"N/A\"\n                            )}\n                          </td>\n                          <td style={tdStyle}>\n                            {isRowEdited(item.id) ? (\n                              <span style={{ color: \"orange\" }}>Edited</span>\n                            ) : null}\n                          </td>\n                          <td style={tdStyle}>\n                            {editMode === item.id ? (\n                              <>\n                                <button\n                                  onClick={() =>\n                                    handleSaveEdit(item.id, editedData)\n                                  }\n                                  style={{ marginRight: \"5px\" }}\n                                >\n                                  Save\n                                </button>\n                                <button onClick={handleCancelEdit}>\n                                  Cancel\n                                </button>\n                              </>\n                            ) : (\n                              <FontAwesomeIcon\n                                icon={faEdit}\n                                onClick={() => handleEdit(item.id)}\n                                style={{\n                                  cursor: \"pointer\",\n                                  marginRight: \"10px\",\n                                  color: \"blue\",\n                                }}\n                              />\n                            )}\n                          </td>\n                          <td style={tdStyle}>\n                            <FontAwesomeIcon\n                              icon={faTrash}\n                              onClick={() => handleDelete(item.id)}\n                              style={{\n                                cursor: \"pointer\",\n                                marginRight: \"10px\",\n                                color: \"red\",\n                              }}\n                            />\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"pagination\">\n          <button onClick={handlePrevious} disabled={currentPage === 1}>\n            Previous\n          </button>\n          <span>\n            {\" \"}\n            {currentPage} of {Math.ceil(filteredData.length / itemsPerPage)}\n          </span>\n          <button\n            onClick={handleNext}\n            disabled={\n              currentPage === Math.ceil(filteredData.length / itemsPerPage)\n            }\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StockDetailsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import logoImage from\"../logo/logo.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const history=useHistory();const[loginData,setLoginData]=useState({loginIdentifier:\"\",password:\"\"});const[alertMessage,setAlertMessage]=useState(null);const handleChange=e=>{const{name,value}=e.target;setLoginData({...loginData,[name]:value});};const handleLogin=async e=>{e.preventDefault();try{const response=await axios.post(\"http://api.5ytechno.com/login\",loginData);console.log(response.data);if(response.data.status===200){setAlertMessage(\"Login Successful!\");setTimeout(()=>{setAlertMessage(null);localStorage.setItem(\"user\",JSON.stringify(response.data.data));history.push(\"/sidebar\");window.location.reload();},2000);}}catch(error){console.error(\"Login failed:\",error);if(error.response&&error.response.status===401){const errorMessage=error.response.data.message;if(errorMessage===\"Invalid username or password\"){setAlertMessage(\"Invalid username or password\");}else if(errorMessage===\"Invalid username\"){setAlertMessage(\"Invalid username or password\");}else if(errorMessage===\"Invalid password\"){setAlertMessage(\"Invalid password.\");}else{setAlertMessage(\"An unexpected error occurred. Please try again.\");}setTimeout(()=>{setAlertMessage(null);},2000);}else{console.error(\"An unexpected error occurred:\",error);setAlertMessage(\"An unexpected error occurred. Please try again.\");setTimeout(()=>{setAlertMessage(null);},2000);}}};const alertStyle={position:\"fixed\",top:\"10px\",left:\"50%\",transform:\"translateX(-50%)\",backgroundColor:\"green\",color:\"white\",padding:\"10px\",borderRadius:\"5px\",boxShadow:\"0px 2px 5px rgba(0, 0, 0, 0.2)\",zIndex:\"9999\",display:alertMessage?\"block\":\"none\",opacity:alertMessage?1:0,transition:\"opacity 0.5s ease-in-out\"};return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{backgroundImage:\"url('../Assets/e.jpeg')\",backgroundSize:\"100% 100%\",minHeight:\"100vh\",backgroundRepeat:\"no-repeat\",fontFamily:'serif'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-0 shadow\",style:{minWidth:\"300px\",maxWidth:\"400px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"Profile\",style:{width:\"100px\",height:\"100px\",borderRadius:\"50%\"}}),/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-3 mb-0\",children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Log in to your account\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary\",children:\"Welcome back! Please enter your details\"})]}),/*#__PURE__*/_jsx(\"div\",{style:alertStyle,children:alertMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"loginIdentifier\",className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Email/Mobile number\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"loginIdentifier\",name:\"loginIdentifier\",placeholder:\"Email or Mobile Number\",className:\"form-control\",value:loginData.loginIdentifier,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Password\",className:\"form-control\",value:loginData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",style:{backgroundColor:'teal',color:'white'},children:\"Sign in\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","axios","useHistory","logoImage","jsx","_jsx","jsxs","_jsxs","Login","history","loginData","setLoginData","loginIdentifier","password","alertMessage","setAlertMessage","handleChange","e","name","value","target","handleLogin","preventDefault","response","post","console","log","data","status","setTimeout","localStorage","setItem","JSON","stringify","push","window","location","reload","error","errorMessage","message","alertStyle","position","top","left","transform","backgroundColor","color","padding","borderRadius","boxShadow","zIndex","display","opacity","transition","className","style","backgroundImage","backgroundSize","minHeight","backgroundRepeat","fontFamily","children","minWidth","maxWidth","src","alt","width","height","onSubmit","htmlFor","type","id","placeholder","onChange","required"],"sources":["C:/Users/HP/Downloads/Alagar_Clinic-main/Alagar_Clinic-main/Frontend/src/components/login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport logoImage from \"../logo/logo.jpg\";\n\nconst Login = () => {\n  const history = useHistory();\n\n  const [loginData, setLoginData] = useState({\n    loginIdentifier: \"\",\n    password: \"\",\n  });\n\n  const [alertMessage, setAlertMessage] = useState(null); \n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setLoginData({ ...loginData, [name]: value });\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.post(\n        \"http://api.5ytechno.com/login\",\n        loginData\n      );\n      console.log(response.data);\n      if (response.data.status === 200) {\n        setAlertMessage(\"Login Successful!\");\n        setTimeout(() => {\n          setAlertMessage(null); \n          localStorage.setItem(\"user\", JSON.stringify(response.data.data));\n          history.push(\"/sidebar\");\n          window.location.reload();\n        }, 2000);\n      }\n    } \n  catch (error) {\n    console.error(\"Login failed:\", error);\n    if (error.response && error.response.status === 401) {\n      const errorMessage = error.response.data.message;\n      if (errorMessage === \"Invalid username or password\") {\n        setAlertMessage(\"Invalid username or password\");\n      } else if (errorMessage === \"Invalid username\") {\n        setAlertMessage(\"Invalid username or password\");\n      } else if (errorMessage === \"Invalid password\") {\n        setAlertMessage(\"Invalid password.\");\n      } else {\n        setAlertMessage(\"An unexpected error occurred. Please try again.\");\n      }\n      setTimeout(() => {\n        setAlertMessage(null); \n      }, 2000);\n    } else {\n      console.error(\"An unexpected error occurred:\", error);\n      setAlertMessage(\"An unexpected error occurred. Please try again.\");\n      setTimeout(() => {\n        setAlertMessage(null); \n      }, 2000);\n    }\n  }\n  };\n\n  const alertStyle = {\n    position: \"fixed\",\n    top: \"10px\",\n    left: \"50%\",\n    transform: \"translateX(-50%)\",\n    backgroundColor: \"green\", \n    color: \"white\",\n    padding: \"10px\",\n    borderRadius: \"5px\",\n    boxShadow: \"0px 2px 5px rgba(0, 0, 0, 0.2)\",\n    zIndex: \"9999\",\n    display: alertMessage ? \"block\" : \"none\", \n    opacity: alertMessage ? 1 : 0, \n    transition: \"opacity 0.5s ease-in-out\", \n  };\n  \n  return (\n    <div\n      className=\"d-flex justify-content-center align-items-center\"\n      style={{\n        backgroundImage: `url('../Assets/e.jpeg')`,\n        backgroundSize: \"100% 100%\",\n        minHeight: \"100vh\",\n        backgroundRepeat: \"no-repeat\",\n        fontFamily:'serif'\n      }}\n    >\n      <div\n        className=\"p-4 border-0 shadow\"\n        style={{ minWidth: \"300px\", maxWidth: \"400px\" }}\n      >\n        <div className=\"text-center mb-4\">\n          <img\n            src={logoImage}\n            alt=\"Profile\"\n            style={{ width: \"100px\", height: \"100px\", borderRadius: \"50%\" }}\n          />\n          <h2 className=\"mt-3 mb-0\">\n            {\" \"}\n            <b>Log in to your account</b>\n          </h2>\n          <p className=\"text-secondary\">\n            Welcome back! Please enter your details\n          </p>\n        </div>\n        <div style={alertStyle}>{alertMessage}</div>\n\n        \n        <form onSubmit={handleLogin}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"loginIdentifier\" className=\"form-label\">\n              <b>Email/Mobile number</b>\n            </label>\n            <input\n              type=\"text\"\n              id=\"loginIdentifier\"\n              name=\"loginIdentifier\"\n              placeholder=\"Email or Mobile Number\"\n              className=\"form-control\"\n              value={loginData.loginIdentifier}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"password\" className=\"form-label\">\n              <b>Password</b>\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              className=\"form-control\"\n              value={loginData.password}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          <div className=\"text-center\">\n            <button type=\"submit\" className=\"btn\" style={{backgroundColor:'teal', color:'white'}}>\n              Sign in\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
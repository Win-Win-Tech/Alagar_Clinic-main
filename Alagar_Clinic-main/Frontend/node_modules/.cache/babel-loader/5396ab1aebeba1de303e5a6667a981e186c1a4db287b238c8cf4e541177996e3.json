{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import axios from\"axios\";import jsPDF from\"jspdf\";import html2canvas from\"html2canvas\";import billbg from\"../logo/newtemplate.jpg\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTimesCircle}from\"@fortawesome/free-solid-svg-icons\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../styles/stock.css\";import FloatingAlert from\"./floatingalert\";import\"../styles/billing.css\";import{useReactToPrint}from\"react-to-print\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Billing(){const[medicineRows,setMedicineRows]=useState(Array.from({length:3},(_,index)=>({id:index+1})));const[subtotal,setSubtotal]=useState(\"\");const[discount,setDiscountTotal]=useState(\"0\");const[grandtotal,setGrandTotal]=useState(\"\");const[submittedData,setSubmittedData]=useState([]);const[isSubmitted,setIsSubmitted]=useState(false);const inputRefs=useRef([]);const[loader,setLoader]=useState(false);const[cashGiven,setCashGiven]=useState(\"0\");const[balance,setBalance]=useState(\"\");const[mobileNo,setMobileNo]=useState(\"\");const[countryCode,setCountryCode]=useState(\"+91\");const[suggestions,setSuggestions]=useState(\"\");const[invoiceNumber,setInvoiceNumber]=useState(\"\");const[alert,setAlert]=useState({message:\"\",type:\"\"});const[buttonText,setButtonText]=useState(\"Add More Medicine\");const[patientName,setPatientName]=useState(\"\");const[requestedQuantities,setRequestedQuantities]=useState({});const[availableQuantities,setAvailableQuantities]=useState({});const[isAlertActive,setAlertActive]=useState(false);const componentRef=useRef(null);const rowsPerPage=13;const totalPages=Math.ceil(submittedData.length/rowsPerPage);useEffect(()=>{handleTotal();},[medicineRows,discount]);const showAlert=function(message,type){let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3000;setAlert({message,type});setTimeout(()=>{setAlert({message:\"\",type:\"\"});},duration);};useEffect(()=>{const handleResize=()=>{setButtonText(window.innerWidth<=767?\"Add More\":\"Add More Medicine\");};handleResize();window.addEventListener(\"resize\",handleResize);return()=>{window.removeEventListener(\"resize\",handleResize);};},[]);useEffect(()=>{setMedicineRows(prevRows=>{const newRows=prevRows.map(row=>({...row,refs:Array.from({length:4},(_,i)=>{var _inputRefs$current$ro;return((_inputRefs$current$ro=inputRefs.current[row.id])===null||_inputRefs$current$ro===void 0?void 0:_inputRefs$current$ro[i])||null;})}));return newRows;});},[]);useEffect(()=>{if(cashGiven!==\"\"&&grandtotal!==\"\"){const newCashGiven=parseFloat(cashGiven)||\"\";const newBalance=(newCashGiven-grandtotal).toFixed(2);setBalance(newBalance);}},[cashGiven,grandtotal]);const currentDateFormatted=new Date().toLocaleDateString(\"en-GB\",{day:\"numeric\",month:\"numeric\",year:\"numeric\"});document.addEventListener('DOMContentLoaded',()=>{addInputListeners();});const handleQuantity=async(event,rowIndex,colIndex,id)=>{var _inputRefs$current$id,_inputRefs$current$id2,_inputRefs$current$id3,_inputRefs$current$id4;const input=(_inputRefs$current$id=inputRefs.current[id])===null||_inputRefs$current$id===void 0?void 0:_inputRefs$current$id[1];const totalInput=(_inputRefs$current$id2=inputRefs.current[id])===null||_inputRefs$current$id2===void 0?void 0:_inputRefs$current$id2[3];const qtyValue=input.value.trim();input.value=qtyValue.replace(/\\D/g,\"\");const qty=Math.floor(parseFloat(qtyValue))||0;const qtyprice=parseFloat((_inputRefs$current$id3=inputRefs.current[id])===null||_inputRefs$current$id3===void 0?void 0:_inputRefs$current$id3[2].value)||0;const total=qty*qtyprice;if(totalInput){totalInput.value=total.toFixed(2);}const tabletname=((_inputRefs$current$id4=inputRefs.current[id])===null||_inputRefs$current$id4===void 0?void 0:_inputRefs$current$id4[0].value)||\"\";const{medicinename,dosage}=extractMedicineInfo(tabletname);try{var _inputRefs$current$id5;const response=await axios.get(\"http://api.5ytechno.com/quantity?medicinename=\".concat(medicinename,\"&dosage=\").concat(dosage));const availableQuantity=response.data.availableQuantity;const requestedQuantityForMedicine=requestedQuantities[tabletname]||0;const qtyInput=(_inputRefs$current$id5=inputRefs.current[id])===null||_inputRefs$current$id5===void 0?void 0:_inputRefs$current$id5[1];const prevQty=parseInt(qtyInput.dataset.prevValue)||0;const newQty=qty;const diffQty=newQty-prevQty;if(diffQty+requestedQuantityForMedicine>availableQuantity){const remainingQuantity=availableQuantity-requestedQuantityForMedicine;showAlert(\"Available Quantity for \".concat(tabletname,\" is \").concat(remainingQuantity+prevQty));qtyInput.value=\"\";totalInput.value=\"\";setAlertActive(true);updateAvailableQuantities(tabletname,prevQty);}else{setRequestedQuantities(prevQuantities=>({...prevQuantities,[tabletname]:(prevQuantities[tabletname]||0)+diffQty}));qtyInput.dataset.prevValue=newQty;setAlertActive(false);}}catch(error){console.error(\"Error fetching available quantity:\",error);}setMedicineRows(prevRows=>prevRows.map(row=>row.id===id?{...row,total}:row));};const handlePatientNameChange=e=>{const newName=e.target.value;setPatientName(newName);console.log(\"Patient Name changed to: \".concat(newName));};const handleTotal=()=>{if(isAlertActive){return;}const newSubtotal=medicineRows.reduce((acc,row)=>acc+(row.total||0),0).toFixed(2);setSubtotal(newSubtotal);const newGrandTotal=(newSubtotal-discount).toFixed(2);setGrandTotal(newGrandTotal);};const extractMedicineInfo=tabletname=>{const lastSpaceIndex=tabletname.lastIndexOf(\" \");if(lastSpaceIndex!==-1){const dosage=tabletname.substring(lastSpaceIndex+1).trim();const medicinename=tabletname.substring(0,lastSpaceIndex);return{medicinename,dosage};}else{console.log(\"Invalid tablet name format\");return{medicinename:\"\",dosage:\"\"};}};const handleSuggestionSelect=async(selectedSuggestion,id)=>{try{const{medicinename,dosage}=extractMedicineInfo(selectedSuggestion);const mrpResponse=await axios.get(\"http://api.5ytechno.com/getMRP?medicinename=\".concat(medicinename,\"&dosage=\").concat(dosage));const mrp=mrpResponse.data.mrp;console.log(\"mrp\",mrp);if(mrp!==undefined){var _inputRefs$current$id6;const qtyPriceInput=(_inputRefs$current$id6=inputRefs.current[id])===null||_inputRefs$current$id6===void 0?void 0:_inputRefs$current$id6[2];if(qtyPriceInput){qtyPriceInput.value=mrp||\"\";}}}catch(error){console.error(\"Error fetching MRP:\",error);}};const handleMedicineNameChange=async(event,id)=>{const inputValue=event.target.value;const sanitizedValue=inputValue.replace(/^\\d*/,\"\");event.target.value=sanitizedValue;try{const response=await axios.get(\"http://api.5ytechno.com/suggestions?partialName=\".concat(inputValue));const fetchedSuggestions=response.data.suggestions;setSuggestions(fetchedSuggestions);}catch(error){console.error(\"Error fetching suggestions:\",error);}};const handleKeyPress=async(event,rowIndex,colIndex,id)=>{var _inputRefs$current$id7,_inputRefs$current$id8;const medicineNameInput=(_inputRefs$current$id7=inputRefs.current[id])===null||_inputRefs$current$id7===void 0?void 0:_inputRefs$current$id7[0];const qtyPriceInput=(_inputRefs$current$id8=inputRefs.current[id])===null||_inputRefs$current$id8===void 0?void 0:_inputRefs$current$id8[2];const empty=(medicineNameInput===null||medicineNameInput===void 0?void 0:medicineNameInput.value)||\"\";if(empty.trim()===\"\"){return;}if(event.target.tagName.toLowerCase()===\"input\"){event.preventDefault();if(colIndex===0||colIndex===1||colIndex===2){var _inputRefs$current$id9;const tabletname=((_inputRefs$current$id9=inputRefs.current[id])===null||_inputRefs$current$id9===void 0?void 0:_inputRefs$current$id9[0].value)||\"\";const{medicinename,dosage}=extractMedicineInfo(tabletname);if(event.target.id===\"medicinename\".concat(id)){try{const response=await axios.get(\"http://api.5ytechno.com/allstock?medicinename=\".concat(medicinename,\"&dosage=\").concat(dosage));const expired=response.data.expired;if(expired){const expiredDate=new Date(expired);const expiredDateString=expiredDate.toISOString().split(\"T\")[0];showAlert(\"\".concat(medicinename,\" \").concat(dosage,\" expired on \").concat(expiredDateString,\" !\"));clearRow(id);}}catch(error){if(event.target.id!==\"\"){showAlert(\"\\\"\".concat(tabletname,\"\\\" Medicine not available.\"));clearRow(id);}}}}}};const clearRow=id=>{var _inputRefs$current$id10,_inputRefs$current$id11,_inputRefs$current$id12,_inputRefs$current$id13;const medicineNameInput=(_inputRefs$current$id10=inputRefs.current[id])===null||_inputRefs$current$id10===void 0?void 0:_inputRefs$current$id10[0];const qtyInput=(_inputRefs$current$id11=inputRefs.current[id])===null||_inputRefs$current$id11===void 0?void 0:_inputRefs$current$id11[1];const qtyPriceInput=(_inputRefs$current$id12=inputRefs.current[id])===null||_inputRefs$current$id12===void 0?void 0:_inputRefs$current$id12[2];const totalInput=(_inputRefs$current$id13=inputRefs.current[id])===null||_inputRefs$current$id13===void 0?void 0:_inputRefs$current$id13[3];if(medicineNameInput){medicineNameInput.value=\"\";}if(qtyInput){qtyInput.value=\"\";}if(qtyPriceInput){qtyPriceInput.value=\"\";}if(totalInput){totalInput.value=\"\";}};const handleAddMedicine=()=>{var _inputRefs$current$ne;const newId=Date.now();setMedicineRows(prevRows=>[...prevRows,{id:newId,refs:Array.from({length:4},(_,i)=>null)}]);const nextInput=(_inputRefs$current$ne=inputRefs.current[newId])===null||_inputRefs$current$ne===void 0?void 0:_inputRefs$current$ne[0];if(nextInput){nextInput.focus();}};const handleCashGivenChange=event=>{const newCashGiven=event.target.value.replace(/[^\\d]/g,\"\");setCashGiven(newCashGiven);};const handleCashGivenBlur=()=>{const formattedValue=cashGiven.replace(/[^\\d.]/g,\"\").replace(/^0+/,\"\");setCashGiven(formattedValue===\"\"?\"0\":formattedValue);};const handleDiscountBlur=()=>{const discountValue=typeof discount===\"number\"?discount:parseFloat(discount.replace(/[^\\d.]/g,0));const formattedValue=discountValue.toFixed(2);setDiscountTotal(formattedValue);};const handleCountryCodeChange=e=>{setCountryCode(e.target.value);};const handleInputChange=e=>{const inputValue=e.target.value;const formattedValue=inputValue.replace(/\\D/g,\"\").slice(0,10);setMobileNo(formattedValue);};const handleDiscountChange=event=>{const newDiscountTotal=parseFloat(event.target.value)||\"\";setDiscountTotal(newDiscountTotal);const newGrandTotal=subtotal-newDiscountTotal;setGrandTotal(newGrandTotal);};const updateAvailableQuantities=(medicinename,quantity)=>{setAvailableQuantities(prevQuantities=>{const updatedQuantities={...prevQuantities};updatedQuantities[medicinename]=(prevQuantities[medicinename]||0)+quantity;return updatedQuantities;});};const handleRemoveMedicine=id=>{const removedMedicine=medicineRows.find(row=>row.id===id);if(removedMedicine&&removedMedicine.refs&&removedMedicine.refs[0]){const medicinename=removedMedicine.refs[0].value;const qty=removedMedicine.refs[1].value;updateAvailableQuantities(medicinename,+qty);const updatedQuantities={...requestedQuantities};if(updatedQuantities[medicinename]!==undefined){updatedQuantities[medicinename]-=qty;}else{updatedQuantities[medicinename]=-qty;}setRequestedQuantities(updatedQuantities);}setMedicineRows(prevRows=>prevRows.filter(row=>row.id!==id));};const handleDynamicColorChange=element=>{const handleInput=()=>{if(element.value.trim()!==''){element.style.borderColor='';// Reset border color if input is not empty\n}else{element.style.borderColor='red';// Set border color to red if input is empty\n}};const handleBlur=()=>{if(element.style.borderColor==='red'&&element.value.trim()!==''){element.style.borderColor='';// Reset border color when the field loses focus and has content\n}};element.addEventListener('input',handleInput);element.addEventListener('blur',handleBlur);// Remove red border when user starts typing in the field\nelement.addEventListener('keydown',()=>{if(element.style.borderColor==='red'){element.style.borderColor='';}});if(element.value.trim()===''){element.style.borderColor='red';}};const addInputListeners=()=>{const patientNameField=document.getElementById('patientname');const mobileNoField=document.getElementById('mobileno');const cashGivenField=document.getElementById('cashgiven');handleDynamicColorChange(patientNameField);handleDynamicColorChange(mobileNoField);handleDynamicColorChange(cashGivenField);if(!patientNameField.value.trim()||!/^[a-zA-Z\\s]+$/.test(patientNameField.value)||/\\d/.test(patientNameField.value)){patientNameField.style.borderColor='red';}if(!mobileNoField.value.trim()||mobileNoField.value.length<10){mobileNoField.style.borderColor='red';}if(!cashGivenField.value.trim()){cashGivenField.style.borderColor='red';}};const handleSubmit=async()=>{const isAnyFieldFilled=medicineRows.some(row=>{const hasFilledInput=inputRefs.current[row.id].some(input=>!!input.value.trim());return hasFilledInput;});if(!isAnyFieldFilled){showAlert(\"Please fill all input fields.\",\"error\");return;}let hasIncompleteRow=false;const updatedMedicineRows=medicineRows.map(row=>{const medicinename=inputRefs.current[row.id][0].value;const qty=parseFloat(inputRefs.current[row.id][1].value)||\"\";const qtyprice=parseFloat(inputRefs.current[row.id][2].value)||\"\";const total=parseFloat(inputRefs.current[row.id][3].value)||\"\";if((medicinename||qty||qtyprice)&&!(medicinename&&qty&&qtyprice)){showAlert(\"Please fill in all fields\",\"error\");hasIncompleteRow=true;return null;}inputRefs.current[row.id][3].value=total;return{id:row.id,medicinename:medicinename,qty:qty.toString(),qtyprice:qtyprice.toString(),total:total};}).filter(row=>row&&row.medicinename&&row.medicinename.trim()!==\"\");if(hasIncompleteRow){return;}const patientNameField=document.getElementById(\"patientname\");const mobileNoField=document.getElementById(\"mobileno\");const cashGivenField=document.getElementById(\"cashgiven\");if(!patientName||!patientName.trim()||!/^[a-zA-Z\\s]+$/.test(patientName)||/\\d/.test(patientName)){patientNameField.style.borderColor=\"red\";return;}if(!mobileNo||mobileNo.length<10){mobileNoField.style.borderColor=\"red\";return;}if(!cashGiven){cashGivenField.style.borderColor=\"red\";return;}setSubmittedData(updatedMedicineRows);const billingData={medicineRows:updatedMedicineRows,subtotal:document.getElementById(\"subtotal\").value||\"\",discount:discount,grandtotal:document.getElementById(\"grandtotal\").value||\"\",patientname:document.getElementById(\"patientname\").value||\"\",doctorname:document.getElementById(\"doctorname\").value||\"\",mobileno:document.getElementById(\"mobileno\").value||\"\",cashgiven:cashGiven,balance:balance,medicinename:updatedMedicineRows.map(row=>row.medicinename)};try{const response=await axios.post(\"http://api.5ytechno.com/billing\",billingData);const generatedInvoiceNumber=response.data.invoicenumber;console.log(\"Generated Invoice Number:\",generatedInvoiceNumber);setIsSubmitted(true);showAlert(\"Successfully submitted!\",\"success\");setInvoiceNumber(generatedInvoiceNumber);}catch(error){console.error(\"Error submitting billing data:\",error);}};const handlePdf=async()=>{setLoader(true);const html2canvasOptions={scale:2,logging:false,allowTaint:true};const jsPDFOptions={orientation:\"portrait\",unit:\"mm\",format:\"a4\"};const doc=new jsPDF(jsPDFOptions);const pages=document.querySelectorAll(\".bill\");for(let i=0;i<pages.length;i++){const capture=pages[i];const canvas=await html2canvas(capture,html2canvasOptions);const imgData=canvas.toDataURL(\"image/png\");const imageWidth=180;const imageHeight=canvas.height*imageWidth/canvas.width;const marginLeft=(doc.internal.pageSize.width-imageWidth)/2;const marginTop=(doc.internal.pageSize.height-imageHeight)/2;if(i>0){doc.addPage();}doc.addImage(imgData,\"PNG\",marginLeft,marginTop,imageWidth,imageHeight);}setLoader(false);doc.save(\"bill.pdf\");};const handleWhatsApp=()=>{const phoneNumber=\"\".concat(countryCode).concat(mobileNo);let message=\"Hello \".concat(patientName,\"! Your bill details:\\n\");message+=\"Grand Total: \".concat(grandtotal,\"\\n\\nPurchased Tablets:\\n\");message+=\"S.No | Medicine Name | Qty | Price | Total\\n\";message+=\"--------------------------------------------\\n\";submittedData.forEach((data,index)=>{const{medicinename,qty,qtyprice,total}=data;message+=\"\".concat(index+1,\" | \").concat(medicinename,\" | \").concat(qty,\" | \").concat(qtyprice,\" | \").concat(total,\"\\n\");});message+=\"Subtotal: \".concat(subtotal,\"\\n\");message+=\"Discount: \".concat(discount,\"\\n\");const whatsappLink=\"https://wa.me/\".concat(phoneNumber,\"?text=\").concat(encodeURIComponent(message));window.open(whatsappLink,\"_blank\");};const handlePrint=useReactToPrint({content:()=>componentRef.current,documentTitle:\"billing-data\"});const handleCancel=()=>{setSubtotal(\"\");setGrandTotal(\"\");setMobileNo(\"\");setCashGiven(\"\");setBalance(\"\");setCountryCode(\"+91\");setDiscountTotal(\"\");Object.values(inputRefs.current).forEach(refs=>{refs.forEach(ref=>{if(ref){ref.value=\"\";}});});setIsSubmitted(false);window.location.reload();};const tstyle={backgroundColor:\"#000080\",color:\"white\"};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n      @media print  {\\n        body {\\n          margin: 10px;\\n        }  \\n      }\\n\\n      input.error {\\n        border: 1px solid red;\\n      }\\n    \"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{fontFamily:\"serif\"},children:!isSubmitted?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Billing\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border  ps-4 pe-5 pb-4\",style:{maxWidth:\"1000px\",margin:\"0\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table custom-table-no-border \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"b\",{className:\"ms-1\",children:\"Medicine Name\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"b\",{className:\"ms-1\",children:\"Quantity\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"b\",{className:\"ms-1\",children:\"Price\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"b\",{className:\"ms-1\",children:\"Total\"})})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:medicineRows.map((_ref,rowIndex)=>{let{id,refs}=_ref;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"input\",{id:\"medicinename\".concat(id),type:\"text\",className:\"form-control\",placeholder:\"Enter Name\",onChange:e=>handleMedicineNameChange(e,id),ref:el=>{var _inputRefs$current;return((_inputRefs$current=inputRefs.current)[id]||(_inputRefs$current[id]=[]))[0]=el;},onBlur:e=>handleKeyPress(e,rowIndex,0,id),list:\"medicineSuggestions\",onSelect:e=>handleSuggestionSelect(e.target.value,id)}),suggestions.length>0&&/*#__PURE__*/_jsx(\"datalist\",{id:\"medicineSuggestions\",children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(suggestion.medicinename,\" \").concat(suggestion.dosage)},index))})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"qty\".concat(id),type:\"number\",className:\"form-control\",placeholder:\"Enter Qty\",ref:el=>{var _inputRefs$current2;return((_inputRefs$current2=inputRefs.current)[id]||(_inputRefs$current2[id]=[]))[1]=el;},onBlur:e=>handleQuantity(e,rowIndex,1,id),onKeyDown:e=>{if(e.key===\"-\"||e.key===\"e\"||e.key===\".\"){e.preventDefault();}},onInput:e=>{const value=e.target.value;if(parseFloat(value)<0){e.target.value=0;}},style:{WebkitAppearance:\"none\",MozAppearance:\"textfield\"}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"qtyprice\".concat(id),type:\"number\",className:\"form-control \",ref:el=>{var _inputRefs$current3;return((_inputRefs$current3=inputRefs.current)[id]||(_inputRefs$current3[id]=[]))[2]=el;},readOnly:true,style:{WebkitAppearance:\"none\",MozAppearance:\"textfield\"}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"total\".concat(id),type:\"text\",className:\"form-control \",readOnly:true,ref:el=>{var _inputRefs$current4;return((_inputRefs$current4=inputRefs.current)[id]||(_inputRefs$current4[id]=[]))[3]=el;}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn \",style:{backgroundColor:\"white\",border:\"1px solid lightgray\"},onClick:()=>handleRemoveMedicine(id),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimesCircle,style:{color:\"black\"}})})})]},id);})})]})}),/*#__PURE__*/_jsx(FloatingAlert,{message:alert.message,type:alert.type}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn ms-md-3 btn-sm\",style:{backgroundColor:\"teal\",color:\"white\",WebkitAppearance:\"none\",MozAppearance:\"textfield\"},onClick:handleAddMedicine,children:buttonText})}),/*#__PURE__*/_jsxs(\"div\",{className:\" col-lg-5 col-md-12 d-flex flex-column align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-0\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"me-4 \",children:\"Sub Total\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"subtotal\",type:\"number\",className:\"border-0 text-start\",style:{width:\"70px\",background:\"none\",WebkitAppearance:\"none\",MozAppearance:\"textfield\"},value:subtotal,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"me-4\",children:\"Discount\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"discount\",className:\"border-0 text-start p-1\",type:\"number\",value:discount,onChange:handleDiscountChange,onBlur:handleDiscountBlur,style:{width:\"75px\",background:\"none\",WebkitAppearance:\"none\",MozAppearance:\"textfield\"}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-1 d-inline-block text-start\",style:{backgroundColor:\"teal\",height:\"30px\"},children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"me-2 text-white\",children:\"Grand Total\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"border-0 text-white text-start p-1\",style:{backgroundColor:\"teal\",width:\"70px\",height:\"20px\",WebkitAppearance:\"none\",MozAppearance:\"textfield\"},id:\"grandtotal\",type:\"number\",value:grandtotal,readOnly:true})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3 ms-2 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" col-lg-3 col-md-4 col-sm-3  me-5\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Patient Name\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"patientname\",class:\"error\",onBlur:e=>handleKeyPress(e,0,0,\"patientname\"),onChange:handlePatientNameChange,className:\"form-control\"})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-md-5 col-sm-3 me-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Doctor Name\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"doctorname\",value:\"Dr. Jothipriya.A MBBS\",className:\"form-control\",onBlur:e=>handleKeyPress(e,0,0,\"doctorname\")})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-md-4 col-sm-3 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mobileno\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Mobile No\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"select\",{id:\"countryCode\",value:countryCode,onChange:handleCountryCodeChange,className:\"me-1 form-select\",style:{width:\"75px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"+91\",children:\"+91 (India)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"+1\",children:\"+1 (US)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"+44\",children:\"+44 (UK)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"mobileno\",value:mobileNo,class:\"error\",onChange:handleInputChange,className:\"form-control\",style:{width:\"140px\"}})]})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row  ms-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-md-4 me-5\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Invoice Date\"})}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",defaultValue:currentDateFormatted,readOnly:true}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-md-4 me-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Cash Given\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cashgiven\",class:\"error\",value:cashGiven,onChange:handleCashGivenChange,onBlur:handleCashGivenBlur,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-md-10 me-5\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Balance\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"balance\",value:balance,readOnly:true,className:\"form-control\"}),/*#__PURE__*/_jsx(\"br\",{})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 text-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary me-2\",onClick:handleCancel,style:{backgroundColor:\"teal\",color:\"white\"},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn \",style:{backgroundColor:\"teal\",color:\"white\"},onClick:handleSubmit,children:\"Submit\"})]})})]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 text-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn me-2\",onClick:handleWhatsApp,style:{backgroundColor:\"teal\",color:\"white\"},children:\"WhatsApp\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn  me-2\",onClick:handlePdf,disabled:loader===true,style:{backgroundColor:\"teal\",color:\"white\"},children:\"Download PDF\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn me-2\",onClick:handlePrint,style:{backgroundColor:\"teal\",color:\"white\"},children:\"Print\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn \",onClick:handleCancel,style:{backgroundColor:\"teal\",color:\"white\"},children:\"Cancel\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row m-4 overflow-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-10 col-lg-8\",children:/*#__PURE__*/_jsx(\"div\",{ref:componentRef,children:Array.from({length:totalPages},(_,page)=>{const startIndex=page*rowsPerPage;const endIndex=startIndex+rowsPerPage;const isLastPage=page===totalPages-1;return/*#__PURE__*/_jsxs(\"div\",{className:\"bill\",style:{border:\"1px solid grey\",backgroundImage:\"url(\".concat(billbg,\")\"),backgroundSize:\"205mm 290mm\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"center\",height:\"290mm\",width:\"205mm\",position:\"relative\",marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-end me-4\",style:{marginTop:\"130px\"},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"me-5\",style:{color:\"darkblue\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Invoice\"})}),/*#__PURE__*/_jsxs(\"h6\",{style:{color:\"darkblue\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Invoice No  : \"}),invoiceNumber]}),/*#__PURE__*/_jsxs(\"h6\",{style:{color:\"darkblue\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Invoice Date: \"}),currentDateFormatted]}),/*#__PURE__*/_jsxs(\"h6\",{style:{color:\"darkblue\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Patient Name: \"}),patientName]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive mt-3 me-5 ms-5\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped p-5\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",style:tstyle,children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",style:tstyle,children:\"Medicine Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",style:tstyle,children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",style:tstyle,children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",style:tstyle,children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.isArray(submittedData)&&submittedData.slice(startIndex,endIndex).map((data,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:startIndex+index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.medicinename}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.qtyprice}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.qty}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.total})]},data.id))})]})}),isLastPage&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",style:{position:\"absolute\",bottom:\"15%\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-start ms-5\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Cash Given: \",cashGiven]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Balance: \",balance]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-end me-5\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal: \",subtotal]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Discount: \",/*#__PURE__*/_jsx(\"span\",{children:discount})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Grand Total: \",grandtotal]})]})})]})]},page);})})})})]})})]});}export default Billing;","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsPDF","html2canvas","billbg","FontAwesomeIcon","faTimesCircle","FloatingAlert","useReactToPrint","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Billing","medicineRows","setMedicineRows","Array","from","length","_","index","id","subtotal","setSubtotal","discount","setDiscountTotal","grandtotal","setGrandTotal","submittedData","setSubmittedData","isSubmitted","setIsSubmitted","inputRefs","loader","setLoader","cashGiven","setCashGiven","balance","setBalance","mobileNo","setMobileNo","countryCode","setCountryCode","suggestions","setSuggestions","invoiceNumber","setInvoiceNumber","alert","setAlert","message","type","buttonText","setButtonText","patientName","setPatientName","requestedQuantities","setRequestedQuantities","availableQuantities","setAvailableQuantities","isAlertActive","setAlertActive","componentRef","rowsPerPage","totalPages","Math","ceil","handleTotal","showAlert","duration","arguments","undefined","setTimeout","handleResize","window","innerWidth","addEventListener","removeEventListener","prevRows","newRows","map","row","refs","i","_inputRefs$current$ro","current","newCashGiven","parseFloat","newBalance","toFixed","currentDateFormatted","Date","toLocaleDateString","day","month","year","document","addInputListeners","handleQuantity","event","rowIndex","colIndex","_inputRefs$current$id","_inputRefs$current$id2","_inputRefs$current$id3","_inputRefs$current$id4","input","totalInput","qtyValue","value","trim","replace","qty","floor","qtyprice","total","tabletname","medicinename","dosage","extractMedicineInfo","_inputRefs$current$id5","response","get","concat","availableQuantity","data","requestedQuantityForMedicine","qtyInput","prevQty","parseInt","dataset","prevValue","newQty","diffQty","remainingQuantity","updateAvailableQuantities","prevQuantities","error","console","handlePatientNameChange","e","newName","target","log","newSubtotal","reduce","acc","newGrandTotal","lastSpaceIndex","lastIndexOf","substring","handleSuggestionSelect","selectedSuggestion","mrpResponse","mrp","_inputRefs$current$id6","qtyPriceInput","handleMedicineNameChange","inputValue","sanitizedValue","fetchedSuggestions","handleKeyPress","_inputRefs$current$id7","_inputRefs$current$id8","medicineNameInput","empty","tagName","toLowerCase","preventDefault","_inputRefs$current$id9","expired","expiredDate","expiredDateString","toISOString","split","clearRow","_inputRefs$current$id10","_inputRefs$current$id11","_inputRefs$current$id12","_inputRefs$current$id13","handleAddMedicine","_inputRefs$current$ne","newId","now","nextInput","focus","handleCashGivenChange","handleCashGivenBlur","formattedValue","handleDiscountBlur","discountValue","handleCountryCodeChange","handleInputChange","slice","handleDiscountChange","newDiscountTotal","quantity","updatedQuantities","handleRemoveMedicine","removedMedicine","find","filter","handleDynamicColorChange","element","handleInput","style","borderColor","handleBlur","patientNameField","getElementById","mobileNoField","cashGivenField","test","handleSubmit","isAnyFieldFilled","some","hasFilledInput","hasIncompleteRow","updatedMedicineRows","toString","billingData","patientname","doctorname","mobileno","cashgiven","post","generatedInvoiceNumber","invoicenumber","handlePdf","html2canvasOptions","scale","logging","allowTaint","jsPDFOptions","orientation","unit","format","doc","pages","querySelectorAll","capture","canvas","imgData","toDataURL","imageWidth","imageHeight","height","width","marginLeft","internal","pageSize","marginTop","addPage","addImage","save","handleWhatsApp","phoneNumber","forEach","whatsappLink","encodeURIComponent","open","handlePrint","content","documentTitle","handleCancel","Object","values","ref","location","reload","tstyle","backgroundColor","color","children","className","fontFamily","maxWidth","margin","_ref","placeholder","onChange","el","_inputRefs$current","onBlur","list","onSelect","suggestion","_inputRefs$current2","onKeyDown","key","onInput","WebkitAppearance","MozAppearance","_inputRefs$current3","readOnly","_inputRefs$current4","border","onClick","icon","background","class","htmlFor","defaultValue","disabled","page","startIndex","endIndex","isLastPage","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","position","marginBottom","isArray","bottom"],"sources":["C:/Users/HP/Downloads/Alagar_Clinic-main/Alagar_Clinic-main/Frontend/src/components/billing.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\nimport billbg from \"../logo/newtemplate.jpg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../styles/stock.css\";\nimport FloatingAlert from \"./floatingalert\";\nimport \"../styles/billing.css\";\nimport { useReactToPrint } from \"react-to-print\";\n\nfunction Billing() {\n  const [medicineRows, setMedicineRows] = useState(\n    Array.from({ length: 3 }, (_, index) => ({ id: index + 1 }))\n  );\n  const [subtotal, setSubtotal] = useState(\"\");\n  const [discount, setDiscountTotal] = useState(\"0\");\n  const [grandtotal, setGrandTotal] = useState(\"\");\n  const [submittedData, setSubmittedData] = useState([]);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const inputRefs = useRef([]);\n  const [loader, setLoader] = useState(false);\n  const [cashGiven, setCashGiven] = useState(\"0\");\n  const [balance, setBalance] = useState(\"\");\n  const [mobileNo, setMobileNo] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"+91\");\n  const [suggestions, setSuggestions] = useState(\"\");\n  const [invoiceNumber, setInvoiceNumber] = useState(\"\");\n  const [alert, setAlert] = useState({ message: \"\", type: \"\" });\n  const [buttonText, setButtonText] = useState(\"Add More Medicine\");\n  const [patientName, setPatientName] = useState(\"\");\n  const [requestedQuantities, setRequestedQuantities] = useState({});\n  const [availableQuantities, setAvailableQuantities] = useState({});\n  const [isAlertActive, setAlertActive] = useState(false);\n\n  const componentRef = useRef(null);\n  const rowsPerPage = 13;\n  const totalPages = Math.ceil(submittedData.length / rowsPerPage);\n\n  useEffect(() => {\n    handleTotal();\n  }, [medicineRows, discount]);\n\n  const showAlert = (message, type, duration = 3000) => {\n    setAlert({ message, type });\n\n    setTimeout(() => {\n      setAlert({ message: \"\", type: \"\" });\n    }, duration);\n  };\n\n  useEffect(() => {\n    const handleResize = () => {\n      setButtonText(\n        window.innerWidth <= 767 ? \"Add More\" : \"Add More Medicine\"\n      );\n    };\n\n    handleResize();\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    setMedicineRows((prevRows) => {\n      const newRows = prevRows.map((row) => ({\n        ...row,\n        refs: Array.from(\n          { length: 4 },\n          (_, i) => inputRefs.current[row.id]?.[i] || null\n        ),\n      }));\n      return newRows;\n    });\n  }, []);\n\n  useEffect(() => {\n    if (cashGiven !== \"\" && grandtotal !== \"\") {\n      const newCashGiven = parseFloat(cashGiven) || \"\";\n      const newBalance = (newCashGiven - grandtotal).toFixed(2);\n      setBalance(newBalance);\n    }\n  }, [cashGiven, grandtotal]);\n\n  const currentDateFormatted = new Date().toLocaleDateString(\"en-GB\", {\n    day: \"numeric\",\n    month: \"numeric\",\n    year: \"numeric\",\n  });\n\n  document.addEventListener('DOMContentLoaded', () => {\n    addInputListeners();\n  });\n\n  const handleQuantity = async (event, rowIndex, colIndex, id) => {\n    const input = inputRefs.current[id]?.[1];\n    const totalInput = inputRefs.current[id]?.[3];\n\n    const qtyValue = input.value.trim();\n    input.value = qtyValue.replace(/\\D/g, \"\");\n    const qty = Math.floor(parseFloat(qtyValue)) || 0;\n    const qtyprice = parseFloat(inputRefs.current[id]?.[2].value) || 0;\n    const total = qty * qtyprice;\n\n    if (totalInput) {\n      totalInput.value = total.toFixed(2);\n    }\n\n    const tabletname = inputRefs.current[id]?.[0].value || \"\";\n    const { medicinename, dosage } = extractMedicineInfo(tabletname);\n\n    try {\n      const response = await axios.get(\n        `http://api.5ytechno.com/quantity?medicinename=${medicinename}&dosage=${dosage}`\n      );\n      const availableQuantity = response.data.availableQuantity;\n\n      const requestedQuantityForMedicine = requestedQuantities[tabletname] || 0;\n\n      const qtyInput = inputRefs.current[id]?.[1];\n      const prevQty = parseInt(qtyInput.dataset.prevValue) || 0;\n      const newQty = qty;\n\n      const diffQty = newQty - prevQty;\n\n      if (diffQty + requestedQuantityForMedicine > availableQuantity) {\n        const remainingQuantity =\n          availableQuantity - requestedQuantityForMedicine;\n        showAlert(\n          `Available Quantity for ${tabletname} is ${\n            remainingQuantity + prevQty\n          }`\n        );\n\n        qtyInput.value = \"\";\n        totalInput.value = \"\";\n        setAlertActive(true);\n\n        updateAvailableQuantities(tabletname, prevQty);\n      } else {\n        setRequestedQuantities((prevQuantities) => ({\n          ...prevQuantities,\n          [tabletname]: (prevQuantities[tabletname] || 0) + diffQty,\n        }));\n\n        qtyInput.dataset.prevValue = newQty;\n        setAlertActive(false);\n      }\n    } catch (error) {\n      console.error(\"Error fetching available quantity:\", error);\n    }\n\n    setMedicineRows((prevRows) =>\n      prevRows.map((row) => (row.id === id ? { ...row, total } : row))\n    );\n  };\n\n  const handlePatientNameChange = (e) => {\n    const newName = e.target.value;\n    setPatientName(newName);\n    console.log(`Patient Name changed to: ${newName}`);\n  };\n\n  const handleTotal = () => {\n    if (isAlertActive) {\n      return;\n    }\n    const newSubtotal = medicineRows\n      .reduce((acc, row) => acc + (row.total || 0), 0)\n      .toFixed(2);\n    setSubtotal(newSubtotal);\n\n    const newGrandTotal = (newSubtotal - discount).toFixed(2);\n    setGrandTotal(newGrandTotal);\n  };\n\n  const extractMedicineInfo = (tabletname) => {\n    const lastSpaceIndex = tabletname.lastIndexOf(\" \");\n\n    if (lastSpaceIndex !== -1) {\n      const dosage = tabletname.substring(lastSpaceIndex + 1).trim();\n      const medicinename = tabletname.substring(0, lastSpaceIndex);\n\n      return { medicinename, dosage };\n    } else {\n      console.log(\"Invalid tablet name format\");\n      return { medicinename: \"\", dosage: \"\" };\n    }\n  };\n\n  const handleSuggestionSelect = async (selectedSuggestion, id) => {\n    try {\n      const { medicinename, dosage } = extractMedicineInfo(selectedSuggestion);\n      const mrpResponse = await axios.get(\n        `http://api.5ytechno.com/getMRP?medicinename=${medicinename}&dosage=${dosage}`\n      );\n      const mrp = mrpResponse.data.mrp;\n      console.log(\"mrp\", mrp);\n\n      if (mrp !== undefined) {\n        const qtyPriceInput = inputRefs.current[id]?.[2];\n        if (qtyPriceInput) {\n          qtyPriceInput.value = mrp || \"\";\n        }\n      }\n    } catch (error) {\n      console.error(\"Error fetching MRP:\", error);\n    }\n  };\n\n  const handleMedicineNameChange = async (event, id) => {\n    const inputValue = event.target.value;\n    const sanitizedValue = inputValue.replace(/^\\d*/, \"\");\n\n    event.target.value = sanitizedValue;\n\n    try {\n      const response = await axios.get(\n        `http://api.5ytechno.com/suggestions?partialName=${inputValue}`\n      );\n      const fetchedSuggestions = response.data.suggestions;\n      setSuggestions(fetchedSuggestions);\n    } catch (error) {\n      console.error(\"Error fetching suggestions:\", error);\n    }\n  };\n\n  const handleKeyPress = async (event, rowIndex, colIndex, id) => {\n    const medicineNameInput = inputRefs.current[id]?.[0];\n    const qtyPriceInput = inputRefs.current[id]?.[2];\n    const empty = medicineNameInput?.value || \"\";\n\n    if (empty.trim() === \"\") {\n      return;\n    }\n\n    if (event.target.tagName.toLowerCase() === \"input\") {\n      event.preventDefault();\n      if (colIndex === 0 || colIndex === 1 || colIndex === 2) {\n        const tabletname = inputRefs.current[id]?.[0].value || \"\";\n        const { medicinename, dosage } = extractMedicineInfo(tabletname);\n\n        if (event.target.id === `medicinename${id}`) {\n          try {\n            const response = await axios.get(\n              `http://api.5ytechno.com/allstock?medicinename=${medicinename}&dosage=${dosage}`\n            );\n            const expired = response.data.expired;\n\n            if (expired) {\n              const expiredDate = new Date(expired);\n              const expiredDateString = expiredDate.toISOString().split(\"T\")[0];\n              showAlert(\n                `${medicinename} ${dosage} expired on ${expiredDateString} !`\n              );\n              clearRow(id);\n            }\n          } catch (error) {\n            if (event.target.id !== \"\") {\n              showAlert(`\"${tabletname}\" Medicine not available.`);\n              clearRow(id);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  const clearRow = (id) => {\n    const medicineNameInput = inputRefs.current[id]?.[0];\n    const qtyInput = inputRefs.current[id]?.[1];\n    const qtyPriceInput = inputRefs.current[id]?.[2];\n    const totalInput = inputRefs.current[id]?.[3];\n\n    if (medicineNameInput) {\n      medicineNameInput.value = \"\";\n    }\n    if (qtyInput) {\n      qtyInput.value = \"\";\n    }\n    if (qtyPriceInput) {\n      qtyPriceInput.value = \"\";\n    }\n    if (totalInput) {\n      totalInput.value = \"\";\n    }\n  };\n\n  const handleAddMedicine = () => {\n    const newId = Date.now();\n    setMedicineRows((prevRows) => [\n      ...prevRows,\n      { id: newId, refs: Array.from({ length: 4 }, (_, i) => null) },\n    ]);\n\n    const nextInput = inputRefs.current[newId]?.[0];\n    if (nextInput) {\n      nextInput.focus();\n    }\n  };\n\n  const handleCashGivenChange = (event) => {\n    const newCashGiven = event.target.value.replace(/[^\\d]/g, \"\");\n    setCashGiven(newCashGiven);\n  };\n  const handleCashGivenBlur = () => {\n    const formattedValue = cashGiven.replace(/[^\\d.]/g, \"\").replace(/^0+/, \"\");\n\n    setCashGiven(formattedValue === \"\" ? \"0\" : formattedValue);\n  };\n\n  const handleDiscountBlur = () => {\n    const discountValue =\n      typeof discount === \"number\"\n        ? discount\n        : parseFloat(discount.replace(/[^\\d.]/g, 0));\n\n    const formattedValue = discountValue.toFixed(2);\n    setDiscountTotal(formattedValue);\n  };\n  const handleCountryCodeChange = (e) => {\n    setCountryCode(e.target.value);\n  };\n\n  const handleInputChange = (e) => {\n    const inputValue = e.target.value;\n    const formattedValue = inputValue.replace(/\\D/g, \"\").slice(0, 10);\n    setMobileNo(formattedValue);\n  };\n  \n\n  const handleDiscountChange = (event) => {\n    const newDiscountTotal = parseFloat(event.target.value) || \"\";\n    setDiscountTotal(newDiscountTotal);\n\n    const newGrandTotal = subtotal - newDiscountTotal;\n    setGrandTotal(newGrandTotal);\n  };\n\n  const updateAvailableQuantities = (medicinename, quantity) => {\n    setAvailableQuantities((prevQuantities) => {\n      const updatedQuantities = { ...prevQuantities };\n      updatedQuantities[medicinename] =\n        (prevQuantities[medicinename] || 0) + quantity;\n\n      return updatedQuantities;\n    });\n  };\n\n  const handleRemoveMedicine = (id) => {\n    const removedMedicine = medicineRows.find((row) => row.id === id);\n\n    if (removedMedicine && removedMedicine.refs && removedMedicine.refs[0]) {\n      const medicinename = removedMedicine.refs[0].value;\n      const qty = removedMedicine.refs[1].value;\n\n      updateAvailableQuantities(medicinename, +qty);\n\n      const updatedQuantities = { ...requestedQuantities };\n\n      if (updatedQuantities[medicinename] !== undefined) {\n        updatedQuantities[medicinename] -= qty;\n      } else {\n        updatedQuantities[medicinename] = -qty;\n      }\n\n      setRequestedQuantities(updatedQuantities);\n    }\n\n    setMedicineRows((prevRows) => prevRows.filter((row) => row.id !== id));\n  };\n\n  const handleDynamicColorChange = (element) => {\n    const handleInput = () => {\n      if (element.value.trim() !== '') {\n        element.style.borderColor = ''; // Reset border color if input is not empty\n      } else {\n        element.style.borderColor = 'red'; // Set border color to red if input is empty\n      }\n    };\n  \n    const handleBlur = () => {\n      if (element.style.borderColor === 'red' && element.value.trim() !== '') {\n        element.style.borderColor = ''; // Reset border color when the field loses focus and has content\n      }\n    };\n  \n    element.addEventListener('input', handleInput);\n    element.addEventListener('blur', handleBlur);\n  \n    // Remove red border when user starts typing in the field\n    element.addEventListener('keydown', () => {\n      if (element.style.borderColor === 'red') {\n        element.style.borderColor = '';\n      }\n    });\n  \n    if (element.value.trim() === '') {\n      element.style.borderColor = 'red';\n    }\n  };\n  \n  \n  const addInputListeners = () => {\n    const patientNameField = document.getElementById('patientname');\n    const mobileNoField = document.getElementById('mobileno');\n    const cashGivenField = document.getElementById('cashgiven');\n  \n    handleDynamicColorChange(patientNameField);\n  handleDynamicColorChange(mobileNoField);\n  handleDynamicColorChange(cashGivenField);\n  \n    if (!patientNameField.value.trim() || !/^[a-zA-Z\\s]+$/.test(patientNameField.value) || /\\d/.test(patientNameField.value)) {\n      patientNameField.style.borderColor = 'red';\n    }\n\n    if (!mobileNoField.value.trim() || mobileNoField.value.length < 10) {\n      mobileNoField.style.borderColor = 'red';\n    }\n    if (!cashGivenField.value.trim()) {\n      cashGivenField.style.borderColor = 'red';\n    }\n  };\n\n  const handleSubmit = async () => {\n    const isAnyFieldFilled = medicineRows.some((row) => {\n      const hasFilledInput = inputRefs.current[row.id].some(\n        (input) => !!input.value.trim()\n      );\n      return hasFilledInput;\n    });\n\n    if (!isAnyFieldFilled) {\n      showAlert(\"Please fill all input fields.\", \"error\");\n      return;\n    }\n    let hasIncompleteRow = false;\n\n    const updatedMedicineRows = medicineRows\n      .map((row) => {\n        const medicinename = inputRefs.current[row.id][0].value;\n        const qty = parseFloat(inputRefs.current[row.id][1].value) || \"\";\n        const qtyprice = parseFloat(inputRefs.current[row.id][2].value) || \"\";\n        const total = parseFloat(inputRefs.current[row.id][3].value) || \"\";\n\n        if (\n          (medicinename || qty || qtyprice) &&\n          !(medicinename && qty && qtyprice)\n        ) {\n          showAlert(\"Please fill in all fields\", \"error\");\n          hasIncompleteRow = true;\n\n          return null;\n        }\n        inputRefs.current[row.id][3].value = total;\n\n        return {\n          id: row.id,\n          medicinename: medicinename,\n          qty: qty.toString(),\n          qtyprice: qtyprice.toString(),\n          total: total,\n        };\n      })\n      .filter(\n        (row) => row && row.medicinename && row.medicinename.trim() !== \"\"\n      );\n\n    if (hasIncompleteRow) {\n      return;\n    }\n\n    const patientNameField = document.getElementById(\"patientname\");\n  const mobileNoField = document.getElementById(\"mobileno\");\n  const cashGivenField = document.getElementById(\"cashgiven\");\n\n  if (!patientName || !patientName.trim() || !/^[a-zA-Z\\s]+$/.test(patientName) || /\\d/.test(patientName)) {\n    patientNameField.style.borderColor = \"red\";\n    return;\n  } \n\n  if (!mobileNo || mobileNo.length < 10) {\n    mobileNoField.style.borderColor = \"red\";\n    return;\n  }\n\n  if (!cashGiven) {\n    cashGivenField.style.borderColor = \"red\";\n    return;\n  } \n\n    setSubmittedData(updatedMedicineRows);\n\n    const billingData = {\n      medicineRows: updatedMedicineRows,\n      subtotal: document.getElementById(\"subtotal\").value || \"\",\n      discount: discount,\n      grandtotal: document.getElementById(\"grandtotal\").value || \"\",\n      patientname: document.getElementById(\"patientname\").value || \"\",\n      doctorname: document.getElementById(\"doctorname\").value || \"\",\n      mobileno: document.getElementById(\"mobileno\").value || \"\",\n      cashgiven: cashGiven,\n      balance: balance,\n      medicinename: updatedMedicineRows.map((row) => row.medicinename),\n    };\n\n    try {\n      const response = await axios.post(\n        \"http://api.5ytechno.com/billing\",\n        billingData\n      );\n      const generatedInvoiceNumber = response.data.invoicenumber;\n      console.log(\"Generated Invoice Number:\", generatedInvoiceNumber);\n\n      setIsSubmitted(true);\n      showAlert(\"Successfully submitted!\", \"success\");\n\n      setInvoiceNumber(generatedInvoiceNumber);\n    } catch (error) {\n      console.error(\"Error submitting billing data:\", error);\n    }\n\n  };\n\n\n\n  const handlePdf = async () => {\n    setLoader(true);\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true,\n    };\n\n    const jsPDFOptions = {\n      orientation: \"portrait\",\n      unit: \"mm\",\n      format: \"a4\",\n    };\n\n    const doc = new jsPDF(jsPDFOptions);\n\n    const pages = document.querySelectorAll(\".bill\");\n\n    for (let i = 0; i < pages.length; i++) {\n      const capture = pages[i];\n\n      const canvas = await html2canvas(capture, html2canvasOptions);\n      const imgData = canvas.toDataURL(\"image/png\");\n\n      const imageWidth = 180;\n      const imageHeight = (canvas.height * imageWidth) / canvas.width;\n\n      const marginLeft = (doc.internal.pageSize.width - imageWidth) / 2;\n      const marginTop = (doc.internal.pageSize.height - imageHeight) / 2;\n\n      if (i > 0) {\n        doc.addPage();\n      }\n\n      doc.addImage(\n        imgData,\n        \"PNG\",\n        marginLeft,\n        marginTop,\n        imageWidth,\n        imageHeight\n      );\n    }\n\n    setLoader(false);\n    doc.save(\"bill.pdf\");\n  };\n\n  const handleWhatsApp = () => {\n    const phoneNumber = `${countryCode}${mobileNo}`;\n    let message = `Hello ${patientName}! Your bill details:\\n`;\n\n    message += `Grand Total: ${grandtotal}\\n\\nPurchased Tablets:\\n`;\n\n    message += \"S.No | Medicine Name | Qty | Price | Total\\n\";\n    message += \"--------------------------------------------\\n\";\n\n    submittedData.forEach((data, index) => {\n      const { medicinename, qty, qtyprice, total } = data;\n      message += `${\n        index + 1\n      } | ${medicinename} | ${qty} | ${qtyprice} | ${total}\\n`;\n    });\n\n    message += `Subtotal: ${subtotal}\\n`;\n    message += `Discount: ${discount}\\n`;\n\n    const whatsappLink = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(\n      message\n    )}`;\n\n    window.open(whatsappLink, \"_blank\");\n  };\n\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n    documentTitle: \"billing-data\",\n  });\n\n  const handleCancel = () => {\n    setSubtotal(\"\");\n    setGrandTotal(\"\");\n    setMobileNo(\"\");\n    setCashGiven(\"\");\n    setBalance(\"\");\n    setCountryCode(\"+91\");\n    setDiscountTotal(\"\");\n\n    Object.values(inputRefs.current).forEach((refs) => {\n      refs.forEach((ref) => {\n        if (ref) {\n          ref.value = \"\";\n        }\n      });\n    });\n    setIsSubmitted(false);\n    window.location.reload();\n  };\n\n  const tstyle = {\n    backgroundColor: \"#000080\",\n    color: \"white\",\n  };\n\n  return (\n    <>\n      <style>\n        {`\n      @media print  {\n        body {\n          margin: 10px;\n        }  \n      }\n\n      input.error {\n        border: 1px solid red;\n      }\n    `}\n    \n    \n      </style>\n\n      <div className=\"container\" style={{ fontFamily: \"serif\" }}>\n        {!isSubmitted ? (\n          <div className=\"row\">\n            <div className=\"container\">\n              <div>\n                <h2 className=\"text-start\">\n                  <b>Billing</b>\n                </h2>\n              </div>\n              <div\n                className=\"bg-white border  ps-4 pe-5 pb-4\"\n                style={{ maxWidth: \"1000px\", margin: \"0\" }}\n              >\n                <div className=\"table-responsive\">\n                  <table className=\"table custom-table-no-border \">\n                    <thead>\n                      <tr>\n                        <th>\n                          <h5>\n                            <b className=\"ms-1\">Medicine Name</b>\n                          </h5>\n                        </th>\n                        <th>\n                          <h5>\n                            <b className=\"ms-1\">Quantity</b>\n                          </h5>\n                        </th>\n                        <th>\n                          <h5>\n                            <b className=\"ms-1\">Price</b>\n                          </h5>\n                        </th>\n                        <th>\n                          <h5>\n                            <b className=\"ms-1\">Total</b>\n                          </h5>\n                        </th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {medicineRows.map(({ id, refs }, rowIndex) => (\n                        <tr key={id}>\n                          <td>\n                            <input\n                              id={`medicinename${id}`}\n                              type=\"text\"\n                              className=\"form-control\"\n                              placeholder=\"Enter Name\"\n                              onChange={(e) => handleMedicineNameChange(e, id)}\n                              ref={(el) =>\n                                ((inputRefs.current[id] ||= [])[0] = el)\n                              }\n                              onBlur={(e) => handleKeyPress(e, rowIndex, 0, id)}\n                              list=\"medicineSuggestions\"\n                              onSelect={(e) =>\n                                handleSuggestionSelect(e.target.value, id)\n                              }\n                            />\n                            {suggestions.length > 0 && (\n                              <datalist id=\"medicineSuggestions\">\n                                {suggestions.map((suggestion, index) => (\n                                  <option\n                                    key={index}\n                                    value={`${suggestion.medicinename} ${suggestion.dosage}`}\n                                  />\n                                ))}\n                              </datalist>\n                            )}\n                          </td>\n                          <td>\n                            <input\n                              id={`qty${id}`}\n                              type=\"number\"\n                              className=\"form-control\"\n                              placeholder=\"Enter Qty\"\n                              ref={(el) =>\n                                ((inputRefs.current[id] ||= [])[1] = el)\n                              }\n                              onBlur={(e) => handleQuantity(e, rowIndex, 1, id)}\n                              onKeyDown={(e) => {\n                                if (\n                                  e.key === \"-\" ||\n                                  e.key === \"e\" ||\n                                  e.key === \".\"\n                                ) {\n                                  e.preventDefault();\n                                }\n                              }}\n                              onInput={(e) => {\n                                const value = e.target.value;\n                                if (parseFloat(value) < 0) {\n                                  e.target.value = 0;\n                                }\n                              }}\n                              style={{\n                                WebkitAppearance: \"none\",\n                                MozAppearance: \"textfield\",\n                              }}\n                            />\n                          </td>\n                          <td>\n                            <input\n                              id={`qtyprice${id}`}\n                              type=\"number\"\n                              className=\"form-control \"\n                              ref={(el) =>\n                                ((inputRefs.current[id] ||= [])[2] = el)\n                              }\n                              readOnly\n                              style={{\n                                WebkitAppearance: \"none\",\n                                MozAppearance: \"textfield\",\n                              }}\n                            />\n                          </td>\n                          <td>\n                            <input\n                              id={`total${id}`}\n                              type=\"text\"\n                              className=\"form-control \"\n                              readOnly\n                              ref={(el) =>\n                                ((inputRefs.current[id] ||= [])[3] = el)\n                              }\n                            />\n                          </td>\n                          <td>\n                            <button\n                              type=\"button\"\n                              className=\"btn \"\n                              style={{\n                                backgroundColor: \"white\",\n                                border: \"1px solid lightgray\",\n                              }}\n                              onClick={() => handleRemoveMedicine(id)}\n                            >\n                              <FontAwesomeIcon\n                                icon={faTimesCircle}\n                                style={{ color: \"black\" }}\n                              />\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n\n                <FloatingAlert message={alert.message} type={alert.type} />\n                <div>\n                  <div className=\"row mt-0\">\n                    <div className=\"col-12 col-md-6\">\n                      <button\n                        type=\"button\"\n                        className=\"btn ms-md-3 btn-sm\"\n                        style={{\n                          backgroundColor: \"teal\",\n                          color: \"white\",\n                          WebkitAppearance: \"none\",\n                          MozAppearance: \"textfield\",\n                        }}\n                        onClick={handleAddMedicine}\n                      >\n                        {buttonText}\n                      </button>\n                    </div>\n                    <div className=\" col-lg-5 col-md-12 d-flex flex-column align-items-end\">\n                      <div className=\"mt-0\">\n                        <b>\n                          <label className=\"me-4 \">Sub Total</label>\n                        </b>\n                        <input\n                          id=\"subtotal\"\n                          type=\"number\"\n                          className=\"border-0 text-start\"\n                          style={{\n                            width: \"70px\",\n                            background: \"none\",\n                            WebkitAppearance: \"none\",\n                            MozAppearance: \"textfield\",\n                          }}\n                          value={subtotal}\n                          readOnly\n                        />\n                      </div>\n\n                      <div className=\"mt-1\">\n                        <b>\n                          <label className=\"me-4\">Discount</label>\n                        </b>\n                        <input\n                          id=\"discount\"\n                          className=\"border-0 text-start p-1\"\n                          type=\"number\"\n                          value={discount}\n                          onChange={handleDiscountChange}\n                          onBlur={handleDiscountBlur}\n                          style={{\n                            width: \"75px\",\n                            background: \"none\",\n                            WebkitAppearance: \"none\",\n                            MozAppearance: \"textfield\",\n                          }}\n                        />\n                      </div>\n\n                      <div className=\"mt-1\">\n                        <div\n                          className=\"p-1 d-inline-block text-start\"\n                          style={{ backgroundColor: \"teal\", height: \"30px\" }}\n                        >\n                          <b>\n                            <label className=\"me-2 text-white\">\n                              Grand Total\n                            </label>\n                          </b>\n                          <input\n                            className=\"border-0 text-white text-start p-1\"\n                            style={{\n                              backgroundColor: \"teal\",\n                              width: \"70px\",\n                              height: \"20px\",\n                              WebkitAppearance: \"none\",\n                              MozAppearance: \"textfield\",\n                            }}\n                            id=\"grandtotal\"\n                            type=\"number\"\n                            value={grandtotal}\n                            readOnly\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"row mt-3 ms-2 \">\n                    <div className=\" col-lg-3 col-md-4 col-sm-3  me-5\">\n                      <b>\n                        <label>Patient Name</label>\n                      </b>\n                      <div>\n                        <input\n                          type=\"text\"\n                          id=\"patientname\"\n                          class=\"error\"\n                          onBlur={(e) => handleKeyPress(e, 0, 0, \"patientname\")}\n                          onChange={handlePatientNameChange}\n                          className=\"form-control\"\n                        />\n                      </div>\n                      <br />\n                    </div>\n\n                    <div className=\"col-lg-3 col-md-5 col-sm-3 me-4\">\n                      <b>\n                        <label>Doctor Name</label>\n                      </b>\n                      <div>\n                        <input\n                          type=\"text\"\n                          id=\"doctorname\"\n                          value=\"Dr. Jothipriya.A MBBS\"\n                          className=\"form-control\"\n                          onBlur={(e) => handleKeyPress(e, 0, 0, \"doctorname\")}\n                        />\n                      </div>\n                      <br />\n                    </div>\n\n                    <div className=\"col-lg-3 col-md-4 col-sm-3 \">\n                      <div className=\"row\">\n                        <b>\n                          <label htmlFor=\"mobileno\">\n                            <b>Mobile No</b>\n                          </label>\n                        </b>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"d-flex\">\n                          <select\n                            id=\"countryCode\"\n                            value={countryCode}\n                            onChange={handleCountryCodeChange}\n                            className=\"me-1 form-select\"\n                            style={{ width: \"75px\" }}\n                          >\n                            <option value=\"+91\">+91 (India)</option>\n                            <option value=\"+1\">+1 (US)</option>\n                            <option value=\"+44\">+44 (UK)</option>\n                          </select>\n                          <input\n                            type=\"tel\"\n                            id=\"mobileno\"\n                            value={mobileNo}\n                            class=\"error\"\n                            onChange={handleInputChange}\n                            className=\"form-control\"\n                            style={{ width: \"140px\" }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <br />\n                  <div className=\"row  ms-2\">\n                    <div className=\"col-lg-3 col-md-4 me-5\">\n                      <b>\n                        <label>Invoice Date</label>\n                      </b>{\" \"}\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        defaultValue={currentDateFormatted}\n                        readOnly\n                      />\n                      <br />\n                    </div>\n                    <div className=\"col-lg-3 col-md-4 me-4\">\n                      <b>\n                        <label>Cash Given</label>\n                      </b>\n                      <input\n                        type=\"text\"\n                        id=\"cashgiven\"\n                        class=\"error\"\n                        value={cashGiven}\n                        onChange={handleCashGivenChange}\n                        onBlur={handleCashGivenBlur}\n                        className=\"form-control\"\n                      />\n                    </div>\n                    <div className=\"col-lg-3 col-md-10 me-5\">\n                      <b>\n                        <label>Balance</label>\n                      </b>\n                      <div>\n                        <input\n                          type=\"text\"\n                          id=\"balance\"\n                          value={balance}\n                          readOnly\n                          className=\"form-control\"\n                        />\n                        <br />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"row mt-2\">\n                    <div className=\"col-md-12 text-end\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-secondary me-2\"\n                        onClick={handleCancel}\n                        style={{ backgroundColor: \"teal\", color: \"white\" }}\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"btn \"\n                        style={{ backgroundColor: \"teal\", color: \"white\" }}\n                        onClick={handleSubmit}\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"container\">\n            <div className=\"row justify-content-center\">\n              <div className=\"col-md-12 text-center mt-4\">\n                <button\n                  type=\"button\"\n                  className=\"btn me-2\"\n                  onClick={handleWhatsApp}\n                  style={{\n                    backgroundColor: \"teal\",\n                    color: \"white\",\n                  }}\n                >\n                  WhatsApp\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn  me-2\"\n                  onClick={handlePdf}\n                  disabled={loader === true}\n                  style={{\n                    backgroundColor: \"teal\",\n                    color: \"white\",\n                  }}\n                >\n                  Download PDF\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn me-2\"\n                  onClick={handlePrint}\n                  style={{\n                    backgroundColor: \"teal\",\n                    color: \"white\",\n                  }}\n                >\n                  Print\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn \"\n                  onClick={handleCancel}\n                  style={{\n                    backgroundColor: \"teal\",\n                    color: \"white\",\n                  }}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n\n            <div className=\"row m-4 overflow-auto\">\n              <div className=\"col-md-10 col-lg-8\">\n                <div ref={componentRef}>\n                  {Array.from({ length: totalPages }, (_, page) => {\n                    const startIndex = page * rowsPerPage;\n                    const endIndex = startIndex + rowsPerPage;\n                    const isLastPage = page === totalPages - 1;\n\n                    return (\n                      <div\n                        key={page}\n                        className=\"bill\"\n                        style={{\n                          border: \"1px solid grey\",\n                          backgroundImage: `url(${billbg})`,\n                          backgroundSize: \"205mm 290mm\",\n                          backgroundRepeat: \"no-repeat\",\n                          backgroundPosition: \"center\",\n                          height: \"290mm\",\n                          width: \"205mm\",\n                          position: \"relative\",\n                          marginBottom: '20px'\n                        }}\n                      >\n                        <div\n                          className=\"text-end me-4\"\n                          style={{ marginTop: \"130px\" }}\n                        >\n                          <h3 className=\"me-5\" style={{ color: \"darkblue\" }}>\n                            <b>Invoice</b>\n                          </h3>\n                          <h6 style={{ color: \"darkblue\" }}><b>Invoice No  : </b>{invoiceNumber}</h6>\n                          <h6 style={{ color: \"darkblue\" }}><b>Invoice Date: </b>{currentDateFormatted}</h6>\n                          <h6 style={{ color: \"darkblue\" }}><b>Patient Name: </b>{patientName}</h6>\n                        </div>\n\n                        <div className=\"table-responsive mt-3 me-5 ms-5\">\n                          <table className=\"table table-bordered table-striped p-5\">\n                            <thead className=\"table\">\n                              <tr>\n                                <th className=\"text-center\" style={tstyle}>\n                                  S.No\n                                </th>\n                                <th className=\"text-center\" style={tstyle}>\n                                  Medicine Name\n                                </th>\n                                <th className=\"text-center\" style={tstyle}>\n                                  Price\n                                </th>\n                                <th className=\"text-center\" style={tstyle}>\n                                  Qty\n                                </th>\n                                <th className=\"text-center\" style={tstyle}>\n                                  Total\n                                </th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {Array.isArray(submittedData) &&\n                                submittedData\n                                  .slice(startIndex, endIndex)\n                                  .map((data, index) => (\n                                    <tr key={data.id}>\n                                      <td className=\"text-center\">\n                                        {startIndex + index + 1}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {data.medicinename}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {data.qtyprice}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {data.qty}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {data.total}\n                                      </td>\n                                    </tr>\n                                  ))}\n                            </tbody>\n                          </table>\n                        </div>\n\n                        {isLastPage && (\n                          <div\n                            className=\"d-flex justify-content-between\"\n                            style={{\n                              position: \"absolute\",\n                              bottom: \"15%\",\n                              width: \"100%\",\n                            }}\n                          >\n                            <div>\n                              <div className=\"text-start ms-5\">\n                                <p>Cash Given: {cashGiven}</p>\n                                <p>Balance: {balance}</p>\n                              </div>\n                            </div>\n                            <div>\n                              <div className=\"text-end me-5\">\n                                <p>Subtotal: {subtotal}</p>\n                                <p>\n                                  Discount: <span>{discount}</span>\n                                </p>\n                                <p>Grand Total: {grandtotal}</p>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default Billing;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
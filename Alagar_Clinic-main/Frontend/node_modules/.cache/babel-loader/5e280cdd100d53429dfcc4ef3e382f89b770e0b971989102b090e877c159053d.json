{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Alagar_Clinic-main\\\\Alagar_Clinic-main\\\\Frontend\\\\src\\\\components\\\\purchase.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport ExcelJS from \"exceljs\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Purchase = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromDate, setFromDate] = useState(null);\n  const [toDate, setToDate] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const itemsPerPage = 25;\n  const filterData = () => {\n    return medicineData.filter(item => {\n      const isSearched = item.medicinename.toLowerCase().includes(searchQuery.toLowerCase());\n      const itemDate = moment(item.time).startOf(\"day\");\n      const isWithinDateRange = (!fromDate || itemDate.isSameOrAfter(moment(fromDate).startOf(\"day\"))) && (!toDate || itemDate.isSameOrBefore(moment(toDate).endOf(\"day\")));\n      return isSearched && isWithinDateRange;\n    });\n  };\n  useEffect(() => {\n    fetchpurchaseData();\n  }, [searchQuery, fromDate, toDate]);\n  useEffect(() => {\n    const filtered = filterData();\n    setFilteredData(filtered);\n  }, [searchQuery, fromDate, toDate, medicineData]);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n  const fetchpurchaseData = async () => {\n    try {\n      const response = await axios.get(\"/allpurchase\", {\n        params: {\n          medicinename: searchQuery\n        }\n      });\n      setMedicineData(response.data);\n      console.log(response.data);\n    } catch (error) {\n      console.error(\"Error fetching purchase data:\", error);\n      if (error.response) {\n        console.error(\"Response status:\", error.response.status);\n        console.error(\"Response data:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"No response received:\", error.request);\n      } else {\n        console.error(\"Request error:\", error.message);\n      }\n    }\n  };\n  useEffect(() => {\n    const fetchpurchaseData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:3000/allpurchase\");\n        setMedicineData(response.data);\n      } catch (error) {\n        setError(\"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchpurchaseData();\n  }, []);\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNext = () => {\n    const totalPages = Math.ceil(medicineData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handleSearchChange = query => {\n    setSearchQuery(query);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromDate(dateString);\n  };\n  const handleToDateChange = (date, dateString) => {\n    setToDate(dateString);\n  };\n  const exportToExcel = () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet(\"PurchaseData\");\n    const columns = [\"Purchase Date\", \"Medicine Name\", \"Dosage\", \"Brand Name\", \"Purchase Price\", \"Purchase Amount\", \"MRP\", \"Total Qty\", \"Expiry Date\"];\n    worksheet.columns = columns.map((column, index) => ({\n      header: column,\n      key: column.toLowerCase().replace(/\\s/g, \"\"),\n      width: index === 0 ? 17 : 15\n    }));\n    const headerRow = worksheet.getRow(1);\n    worksheet.columns.forEach(column => {\n      const cell = headerRow.getCell(column.key);\n      cell.fill = {\n        type: \"pattern\",\n        pattern: \"solid\",\n        fgColor: {\n          argb: \"FF001F3F\"\n        }\n      };\n      cell.font = {\n        color: {\n          argb: \"FFFFFF\"\n        },\n        bold: true\n      };\n      cell.alignment = {\n        horizontal: \"center\"\n      };\n    });\n    filteredData.forEach(item => {\n      const formattedDate = item.time ? moment(item.time).format(\"YYYY-MM-DD\") : \"N/A\";\n      const dataRow = worksheet.addRow({\n        purchasedate: formattedDate || \"N/A\",\n        medicinename: item.medicinename || \"N/A\",\n        dosage: item.dosage || \"N/A\",\n        brandname: item.brandname || \"N/A\",\n        purchaseprice: item.purchaseprice || \"N/A\",\n        purchaseamount: item.purchaseamount || \"N/A\",\n        mrp: item.mrp || \"N/A\",\n        totalqty: item.totalqty || \"N/A\",\n        expirydate: item.expirydate ? moment(item.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"\n      });\n      dataRow.eachCell(cell => {\n        cell.alignment = {\n          horizontal: \"center\"\n        };\n        cell.border = {\n          top: {\n            style: \"thin\"\n          },\n          left: {\n            style: \"thin\"\n          },\n          bottom: {\n            style: \"thin\"\n          },\n          right: {\n            style: \"thin\"\n          }\n        };\n      });\n    });\n    headerRow.eachCell(cell => {\n      cell.border = {\n        top: {\n          style: \"thin\"\n        },\n        left: {\n          style: \"thin\"\n        },\n        bottom: {\n          style: \"thin\"\n        },\n        right: {\n          style: \"thin\"\n        }\n      };\n    });\n    workbook.xlsx.writeBuffer().then(buffer => {\n      const blob = new Blob([buffer], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"purchase_history.xlsx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    });\n  };\n  const downloadPDF = () => {\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true\n    };\n    const capture = document.querySelector(\".purchase-table\");\n    setLoader(true);\n    const formattedFromDate = fromDate ? moment(fromDate).format(\"YYYY-MM-DD\") : \"N/A\";\n    const formattedToDate = toDate ? moment(toDate).format(\"YYYY-MM-DD\") : \"N/A\";\n    html2canvas(capture, html2canvasOptions).then(canvas => {\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      };\n      const pdf = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = canvas.height * imageWidth / canvas.width;\n      pdf.setFont(\"helvetica\", \"bold\");\n      pdf.setFontSize(16);\n      pdf.setTextColor(43, 128, 176);\n      const headingText = fromDate && toDate ? `Purchase Details from ${formattedFromDate} to ${formattedToDate}` : \"Purchase Details as on Today\";\n      pdf.text(headingText, 10, 10, null, null, \"left\");\n      const headingHeight = 20;\n      const tableStartY = 0 + headingHeight;\n      const firstPageData = filteredData.slice(0, itemsPerPage);\n      const firstPageBodyData = firstPageData.map(currentData => [currentData.time ? moment(currentData.time).format(\"YYYY-MM-DD\") : \"N/A\", currentData.medicinename || \"N/A\", currentData.dosage || \"N/A\", currentData.brandname || \"N/A\", currentData.purchaseprice || \"N/A\", currentData.purchaseamount || \"N/A\", currentData.mrp || \"N/A\", currentData.totalqty || \"N/A\", currentData.expirydate ? moment(currentData.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"]);\n      pdf.autoTable({\n        head: [[\"Purchase Date\", \"Medicine Name\", \"Dosage\", \"Brand Name\", \"Purchase Price\", \"Purchase Amount\", \"MRP\", \"Total Qty\", \"Expiry Date\"]],\n        body: firstPageBodyData,\n        startY: tableStartY,\n        theme: \"grid\",\n        styles: {\n          fontSize: 9,\n          halign: \"center\"\n        },\n        headerStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          lineWidth: 0.3\n        },\n        columnStyles: {\n          0: {\n            cellWidth: 20,\n            cellHeight: 10\n          },\n          1: {\n            cellWidth: 30,\n            cellHeight: 10\n          }\n        },\n        alternateRowStyles: {\n          fillColor: [224, 224, 224],\n          lineWidth: 0.3\n        }\n      });\n      let rowIndex = itemsPerPage;\n      const numberOfRows = filteredData.length;\n      while (rowIndex < numberOfRows) {\n        pdf.addPage();\n        pdf.text(`Page ${Math.ceil((rowIndex + 1) / itemsPerPage)}`, 10, 10);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(16);\n        pdf.setTextColor(43, 128, 176);\n        const currentPageData = filteredData.slice(rowIndex, rowIndex + itemsPerPage);\n        const bodyData = currentPageData.map(currentData => [currentData.medicinename || \"N/A\", currentData.brandname || \"N/A\", currentData.dosage || \"N/A\", currentData.purchaseprice || \"N/A\", currentData.totalqty || \"N/A\", currentData.purchaseamount || \"N/A\", currentData.expirydate ? moment(currentData.expirydate).format(\"YYYY-MM-DD\") : \"N/A\", currentData.mrp || \"N/A\", currentData.time ? moment(currentData.time).format(\"YYYY-MM-DD\") : \"N/A\"]);\n        pdf.autoTable({\n          head: [[\"Medicine Name\", \"Brand Name\", \"Dosage\", \"Purchase Price\", \"Total Qty\", \"Purchase Amount\", \"MRP\", \"Expiry Date\", \"Purchase Date\"]],\n          body: bodyData,\n          startY: tableStartY,\n          theme: \"grid\",\n          styles: {\n            fontSize: 9,\n            halign: \"center\"\n          },\n          headerStyles: {\n            fillColor: [41, 128, 185],\n            textColor: 255,\n            lineWidth: 0.3\n          },\n          columnStyles: {\n            0: {\n              cellWidth: 20,\n              cellHeight: 10\n            },\n            1: {\n              cellWidth: 30,\n              cellHeight: 10\n            }\n          },\n          alternateRowStyles: {\n            fillColor: [224, 224, 224],\n            lineWidth: 0.3\n          }\n        });\n        rowIndex += itemsPerPage;\n      }\n      setLoader(false);\n      pdf.save(\"purchase.pdf\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: \"14px\",\n        fontFamily: \"serif, sans-serif\",\n        backgroundSize: \"100% 100%\",\n        backgroundRepeat: \"no-repeat\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid p-3\",\n        style: {\n          fontFamily: \"serif, sans-serif\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"mb-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Purchase History\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export me-2\",\n                  onClick: exportToExcel,\n                  children: \"Export to Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export\",\n                  onClick: downloadPDF,\n                  disabled: loader,\n                  children: loader ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Downloading as PDF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Download as PDF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row align-items-center mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-bar d-flex align-items-center\",\n              style: {\n                marginLeft: \"-0px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search Medicine name...\",\n                value: searchQuery,\n                onChange: event => handleSearchChange(event.target.value),\n                style: {\n                  height: \"30px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-12 mt-3 mt-md-0 d-flex justify-content-md-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bold-placeholder me-3\",\n              children: [\"From: \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                onChange: handleFromDateChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bold-placeholder\",\n              children: [\"To: \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                onChange: handleToDateChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"purchase-table ms-4\",\n        children: dataOnCurrentPage.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No search results found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scrollable-body \",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"sticky-top bg-light\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Purchase Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Medicine Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Dosage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Brand Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Purchase Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Purchase Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"MRP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Total Qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center\",\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: dataOnCurrentPage.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.time ? moment(item.time).format(\"YYYY-MM-DD\") : \"N/A\" || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-start\",\n                  children: item.medicinename || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.dosage || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.brandname || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.purchaseprice || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.purchaseamount || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.mrp || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.totalqty || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: item.expirydate ? moment(item.expirydate).format(\"YYYY-MM-DD\") : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 23\n                }, this)]\n              }, item.ID, true, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevious,\n          disabled: currentPage === 1,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", currentPage, \" of \", Math.ceil(filteredData.length / itemsPerPage)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNext,\n          disabled: currentPage === Math.ceil(filteredData.length / itemsPerPage),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 379,\n    columnNumber: 5\n  }, this);\n};\n_s(Purchase, \"NBJ2gJNkQfhw+910diuB3OdJhZE=\");\n_c = Purchase;\nexport default Purchase;\nvar _c;\n$RefreshReg$(_c, \"Purchase\");","map":{"version":3,"names":["React","useState","useEffect","axios","FontAwesomeIcon","faSearch","DatePicker","moment","html2canvas","ExcelJS","jsPDF","jsxDEV","_jsxDEV","Purchase","_s","searchQuery","setSearchQuery","medicineData","setMedicineData","currentPage","setCurrentPage","fromDate","setFromDate","toDate","setToDate","loader","setLoader","loading","setLoading","error","setError","filteredData","setFilteredData","itemsPerPage","filterData","filter","item","isSearched","medicinename","toLowerCase","includes","itemDate","time","startOf","isWithinDateRange","isSameOrAfter","isSameOrBefore","endOf","fetchpurchaseData","filtered","startIndex","endIndex","dataOnCurrentPage","slice","response","get","params","data","console","log","status","request","message","handlePrevious","handleNext","totalPages","Math","ceil","length","handleSearchChange","query","handleFromDateChange","date","dateString","handleToDateChange","exportToExcel","workbook","Workbook","worksheet","addWorksheet","columns","map","column","index","header","key","replace","width","headerRow","getRow","forEach","cell","getCell","fill","type","pattern","fgColor","argb","font","color","bold","alignment","horizontal","formattedDate","format","dataRow","addRow","purchasedate","dosage","brandname","purchaseprice","purchaseamount","mrp","totalqty","expirydate","eachCell","border","top","style","left","bottom","right","xlsx","writeBuffer","then","buffer","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","downloadPDF","html2canvasOptions","scale","logging","allowTaint","capture","querySelector","formattedFromDate","formattedToDate","canvas","jsPDFOptions","orientation","unit","pdf","imageWidth","imageHeight","height","setFont","setFontSize","setTextColor","headingText","text","headingHeight","tableStartY","firstPageData","firstPageBodyData","currentData","autoTable","head","startY","theme","styles","fontSize","halign","headerStyles","fillColor","textColor","lineWidth","columnStyles","cellWidth","cellHeight","alternateRowStyles","rowIndex","numberOfRows","addPage","currentPageData","bodyData","save","children","fontFamily","backgroundSize","backgroundRepeat","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","marginLeft","icon","placeholder","value","onChange","event","target","ID","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/Alagar_Clinic-main/Alagar_Clinic-main/Frontend/src/components/purchase.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport ExcelJS from \"exceljs\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\n\nconst Purchase = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromDate, setFromDate] = useState(null);\n  const [toDate, setToDate] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n\n  const itemsPerPage = 25;\n  const filterData = () => {\n    return medicineData.filter((item) => {\n      const isSearched = item.medicinename\n        .toLowerCase()\n        .includes(searchQuery.toLowerCase());\n      const itemDate = moment(item.time).startOf(\"day\");\n\n      const isWithinDateRange =\n        (!fromDate ||\n          itemDate.isSameOrAfter(moment(fromDate).startOf(\"day\"))) &&\n        (!toDate || itemDate.isSameOrBefore(moment(toDate).endOf(\"day\")));\n\n      return isSearched && isWithinDateRange;\n    });\n  };\n\n  useEffect(() => {\n    fetchpurchaseData();\n  }, [searchQuery, fromDate, toDate]);\n\n  useEffect(() => {\n    const filtered = filterData();\n    setFilteredData(filtered);\n  }, [searchQuery, fromDate, toDate, medicineData]);\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n\n  const fetchpurchaseData = async () => {\n    try {\n      const response = await axios.get(\"/allpurchase\", {\n        params: { medicinename: searchQuery },\n      });\n\n      setMedicineData(response.data);\n      console.log(response.data);\n    } catch (error) {\n      console.error(\"Error fetching purchase data:\", error);\n      if (error.response) {\n        console.error(\"Response status:\", error.response.status);\n        console.error(\"Response data:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"No response received:\", error.request);\n      } else {\n        console.error(\"Request error:\", error.message);\n      }\n    }\n  };\n\n  useEffect(() => {\n    const fetchpurchaseData = async () => {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/allpurchase\"\n        );\n        setMedicineData(response.data);\n      } catch (error) {\n        setError(\"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchpurchaseData();\n  }, []);\n\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleNext = () => {\n    const totalPages = Math.ceil(medicineData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handleSearchChange = (query) => {\n    setSearchQuery(query);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromDate(dateString);\n  };\n\n  const handleToDateChange = (date, dateString) => {\n    setToDate(dateString);\n  };\n\n  const exportToExcel = () => {\n    const workbook = new ExcelJS.Workbook();\n    const worksheet = workbook.addWorksheet(\"PurchaseData\");\n\n    const columns = [\n      \"Purchase Date\",\n      \"Medicine Name\",\n      \"Dosage\",\n      \"Brand Name\",\n      \"Purchase Price\",\n      \"Purchase Amount\",\n      \"MRP\",\n      \"Total Qty\",\n      \"Expiry Date\",\n    ];\n\n    worksheet.columns = columns.map((column, index) => ({\n      header: column,\n      key: column.toLowerCase().replace(/\\s/g, \"\"),\n      width: index === 0 ? 17 : 15,\n    }));\n\n    const headerRow = worksheet.getRow(1);\n\n    worksheet.columns.forEach((column) => {\n      const cell = headerRow.getCell(column.key);\n      cell.fill = {\n        type: \"pattern\",\n        pattern: \"solid\",\n        fgColor: {\n          argb: \"FF001F3F\",\n        },\n      };\n      cell.font = {\n        color: { argb: \"FFFFFF\" },\n        bold: true,\n      };\n      cell.alignment = { horizontal: \"center\" };\n    });\n\n    filteredData.forEach((item) => {\n      const formattedDate = item.time\n        ? moment(item.time).format(\"YYYY-MM-DD\")\n        : \"N/A\";\n\n      const dataRow = worksheet.addRow({\n        purchasedate: formattedDate || \"N/A\",\n        medicinename: item.medicinename || \"N/A\",\n        dosage: item.dosage || \"N/A\",\n        brandname: item.brandname || \"N/A\",\n        purchaseprice: item.purchaseprice || \"N/A\",\n        purchaseamount: item.purchaseamount || \"N/A\",\n        mrp: item.mrp || \"N/A\",\n        totalqty: item.totalqty || \"N/A\",\n        expirydate: item.expirydate\n          ? moment(item.expirydate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n      });\n\n      dataRow.eachCell((cell) => {\n        cell.alignment = { horizontal: \"center\" };\n        cell.border = {\n          top: { style: \"thin\" },\n          left: { style: \"thin\" },\n          bottom: { style: \"thin\" },\n          right: { style: \"thin\" },\n        };\n      });\n    });\n\n    headerRow.eachCell((cell) => {\n      cell.border = {\n        top: { style: \"thin\" },\n        left: { style: \"thin\" },\n        bottom: { style: \"thin\" },\n        right: { style: \"thin\" },\n      };\n    });\n\n    workbook.xlsx.writeBuffer().then((buffer) => {\n      const blob = new Blob([buffer], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      });\n      const url = URL.createObjectURL(blob);\n\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"purchase_history.xlsx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    });\n  };\n\n  const downloadPDF = () => {\n    const html2canvasOptions = {\n      scale: 2,\n      logging: false,\n      allowTaint: true,\n    };\n\n    const capture = document.querySelector(\".purchase-table\");\n    setLoader(true);\n\n    const formattedFromDate = fromDate\n      ? moment(fromDate).format(\"YYYY-MM-DD\")\n      : \"N/A\";\n\n    const formattedToDate = toDate\n      ? moment(toDate).format(\"YYYY-MM-DD\")\n      : \"N/A\";\n\n    html2canvas(capture, html2canvasOptions).then((canvas) => {\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\",\n      };\n\n      const pdf = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = (canvas.height * imageWidth) / canvas.width;\n\n      pdf.setFont(\"helvetica\", \"bold\");\n      pdf.setFontSize(16);\n      pdf.setTextColor(43, 128, 176);\n\n      const headingText =\n        fromDate && toDate\n          ? `Purchase Details from ${formattedFromDate} to ${formattedToDate}`\n          : \"Purchase Details as on Today\";\n\n      pdf.text(headingText, 10, 10, null, null, \"left\");\n\n      const headingHeight = 20;\n      const tableStartY = 0 + headingHeight;\n      const firstPageData = filteredData.slice(0, itemsPerPage);\n      const firstPageBodyData = firstPageData.map((currentData) => [\n        currentData.time\n          ? moment(currentData.time).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n        currentData.medicinename || \"N/A\",\n        currentData.dosage || \"N/A\",\n        currentData.brandname || \"N/A\",\n        currentData.purchaseprice || \"N/A\",\n        currentData.purchaseamount || \"N/A\",\n        currentData.mrp || \"N/A\",\n        currentData.totalqty || \"N/A\",\n        currentData.expirydate\n          ? moment(currentData.expirydate).format(\"YYYY-MM-DD\")\n          : \"N/A\",\n      ]);\n\n      pdf.autoTable({\n        head: [\n          [\n            \"Purchase Date\",\n            \"Medicine Name\",\n            \"Dosage\",\n            \"Brand Name\",\n            \"Purchase Price\",\n            \"Purchase Amount\",\n            \"MRP\",\n            \"Total Qty\",\n            \"Expiry Date\",\n          ],\n        ],\n        body: firstPageBodyData,\n        startY: tableStartY,\n        theme: \"grid\",\n        styles: {\n          fontSize: 9,\n          halign: \"center\",\n        },\n        headerStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          lineWidth: 0.3,\n        },\n        columnStyles: {\n          0: { cellWidth: 20, cellHeight: 10 },\n          1: { cellWidth: 30, cellHeight: 10 },\n        },\n        alternateRowStyles: {\n          fillColor: [224, 224, 224],\n          lineWidth: 0.3,\n        },\n      });\n\n      let rowIndex = itemsPerPage;\n      const numberOfRows = filteredData.length;\n\n      while (rowIndex < numberOfRows) {\n        pdf.addPage();\n        pdf.text(`Page ${Math.ceil((rowIndex + 1) / itemsPerPage)}`, 10, 10);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(16);\n        pdf.setTextColor(43, 128, 176);\n\n        const currentPageData = filteredData.slice(\n          rowIndex,\n          rowIndex + itemsPerPage\n        );\n        const bodyData = currentPageData.map((currentData) => [\n          currentData.medicinename || \"N/A\",\n          currentData.brandname || \"N/A\",\n          currentData.dosage || \"N/A\",\n          currentData.purchaseprice || \"N/A\",\n          currentData.totalqty || \"N/A\",\n          currentData.purchaseamount || \"N/A\",\n          currentData.expirydate\n            ? moment(currentData.expirydate).format(\"YYYY-MM-DD\")\n            : \"N/A\",\n          currentData.mrp || \"N/A\",\n          currentData.time\n            ? moment(currentData.time).format(\"YYYY-MM-DD\")\n            : \"N/A\",\n        ]);\n\n        pdf.autoTable({\n          head: [\n            [\n              \"Medicine Name\",\n              \"Brand Name\",\n              \"Dosage\",\n              \"Purchase Price\",\n              \"Total Qty\",\n              \"Purchase Amount\",\n              \"MRP\",\n              \"Expiry Date\",\n              \"Purchase Date\",\n            ],\n          ],\n          body: bodyData,\n          startY: tableStartY,\n          theme: \"grid\",\n          styles: {\n            fontSize: 9,\n            halign: \"center\",\n          },\n          headerStyles: {\n            fillColor: [41, 128, 185],\n            textColor: 255,\n            lineWidth: 0.3,\n          },\n          columnStyles: {\n            0: { cellWidth: 20, cellHeight: 10 },\n            1: { cellWidth: 30, cellHeight: 10 },\n          },\n          alternateRowStyles: {\n            fillColor: [224, 224, 224],\n            lineWidth: 0.3,\n          },\n        });\n\n        rowIndex += itemsPerPage;\n      }\n\n      setLoader(false);\n      pdf.save(\"purchase.pdf\");\n    });\n  };\n\n  return (\n    <div>\n      <div\n        style={{\n          fontSize: \"14px\",\n          fontFamily: \"serif, sans-serif\",\n          backgroundSize: \"100% 100%\",\n          backgroundRepeat: \"no-repeat\",\n        }}\n      >\n        <div\n          className=\"container-fluid p-3\"\n          style={{ fontFamily: \"serif, sans-serif\" }}\n        >\n          <div className=\"row align-items-center\">\n            <div className=\"col-12\">\n              <div className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                  <h2 className=\"mb-0\">\n                    <b>Purchase History</b>\n                  </h2>\n                </div>\n                <div className=\"text-end\">\n                  <button className=\"export me-2\" onClick={exportToExcel}>\n                    Export to Excel\n                  </button>\n                  <button\n                    className=\"export\"\n                    onClick={downloadPDF}\n                    disabled={loader}\n                  >\n                    {loader ? (\n                      <span>Downloading as PDF</span>\n                    ) : (\n                      <span>Download as PDF</span>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row align-items-center mt-3\">\n            <div className=\"col-12 col-md-8\">\n              <div\n                className=\"search-bar d-flex align-items-center\"\n                style={{ marginLeft: \"-0px\" }}\n              >\n                <FontAwesomeIcon icon={faSearch} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search Medicine name...\"\n                  value={searchQuery}\n                  onChange={(event) => handleSearchChange(event.target.value)}\n                  style={{ height: \"30px\" }}\n                />\n              </div>\n            </div>\n            <div className=\"col-12 col-md-12 mt-3 mt-md-0 d-flex justify-content-md-end\">\n              <span className=\"bold-placeholder me-3\">\n                From: <DatePicker onChange={handleFromDateChange} />\n              </span>\n              <span className=\"bold-placeholder\">\n                To: <DatePicker onChange={handleToDateChange} />\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"purchase-table ms-4\">\n          {dataOnCurrentPage.length === 0 ? (\n            <p>No search results found</p>\n          ) : (\n            <div className=\"scrollable-body \">\n              <table className=\"table\">\n                <thead className=\"sticky-top bg-light\">\n                  <tr>\n                    <th className=\"text-center\">Purchase Date</th>\n                    <th className=\"text-center\">Medicine Name</th>\n                    <th className=\"text-center\">Dosage</th>\n                    <th className=\"text-center\">Brand Name</th>\n                    <th className=\"text-center\">Purchase Price</th>\n                    <th className=\"text-center\">Purchase Amount</th>\n                    <th className=\"text-center\">MRP</th>\n                    <th className=\"text-center\">Total Qty</th>\n                    <th className=\"text-center\">Expiry Date</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {dataOnCurrentPage.map((item) => (\n                    <tr key={item.ID}>\n                      <td className=\"text-center\">\n                        {item.time\n                          ? moment(item.time).format(\"YYYY-MM-DD\")\n                          : \"N/A\" || \"N/A\"}\n                      </td>\n                      <td className=\"text-start\">\n                        {item.medicinename || \"N/A\"}\n                      </td>\n                      <td className=\"text-center\">{item.dosage || \"N/A\"}</td>\n                      <td className=\"text-center\">{item.brandname || \"N/A\"}</td>\n                      <td className=\"text-center\">\n                        {item.purchaseprice || \"N/A\"}\n                      </td>\n                      <td className=\"text-center\">\n                        {item.purchaseamount || \"N/A\"}\n                      </td>\n                      <td className=\"text-center\">{item.mrp || \"N/A\"}</td>\n                      <td className=\"text-center\">{item.totalqty || \"N/A\"}</td>\n                      <td className=\"text-center\">\n                        {item.expirydate\n                          ? moment(item.expirydate).format(\"YYYY-MM-DD\")\n                          : \"N/A\"}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        <div className=\"pagination\">\n          <button onClick={handlePrevious} disabled={currentPage === 1}>\n            Previous\n          </button>\n          <span>\n            {\" \"}\n            {currentPage} of {Math.ceil(filteredData.length / itemsPerPage)}\n          </span>\n          <button\n            onClick={handleNext}\n            disabled={\n              currentPage === Math.ceil(filteredData.length / itemsPerPage)\n            }\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Purchase;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
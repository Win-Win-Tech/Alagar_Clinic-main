{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Alagar_Clinic-main\\\\Alagar_Clinic-main\\\\Frontend\\\\src\\\\components\\\\billinghistory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\nimport billbg from \"../logo/newtemplate.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BillingHis = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromDate, setFromDate] = useState(null);\n  const [toDate, setToDate] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isViewed, setisViewed] = useState(false);\n  const [invoiceData, setInvoiceData] = useState(\"\");\n  const itemsPerPage = 13;\n  const [loader, setLoader] = useState(false);\n  const filteredData = medicineData.filter(item => item.mobileno && item.mobileno.toLowerCase().includes(searchQuery.toLowerCase()) && (!fromDate || moment(item.createdate).startOf(\"day\").isSameOrAfter(moment(fromDate).startOf(\"day\"))) && (!toDate || moment(item.createdate).endOf(\"day\").isSameOrBefore(moment(toDate).endOf(\"day\"))));\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n  const fetchbillingData = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:3000/billingdata\");\n      setMedicineData(response.data);\n    } catch (error) {\n      setError(\"Error fetching data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchbillingData();\n  }, [searchQuery]);\n  useEffect(() => {\n    fetchbillingData();\n  }, []);\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNext = () => {\n    const totalPages = Math.ceil(medicineData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handleSearchChange = query => {\n    setSearchQuery(query);\n  };\n  const handleFromDateChange = (date, dateString) => {\n    setFromDate(dateString);\n  };\n  const handleToDateChange = (date, dateString) => {\n    setToDate(dateString);\n  };\n  const View = async invoiceNumber => {\n    try {\n      const response = await axios.get(`http://localhost:3000/billingdata/${invoiceNumber}`);\n      const invoiceData = response.data;\n      setInvoiceData(invoiceData);\n      setisViewed(true);\n    } catch (error) {\n      console.error(\"Error fetching or processing invoice data:\", error);\n    }\n  };\n  const downloadPDF = async () => {\n    try {\n      setLoader(true);\n      const html2canvasOptions = {\n        scale: 2,\n        logging: false,\n        allowTaint: true\n      };\n      const capture = document.querySelectorAll(\".bill\");\n      if (!capture || capture.length === 0) {\n        throw new Error(\"Unable to find .bill elements\");\n      }\n      const promises = Array.from(capture).map(async element => {\n        let scale = 2;\n        if (window.innerWidth < 768) {\n          scale = 1;\n        }\n        const canvas = await html2canvas(element, {\n          ...html2canvasOptions,\n          scale\n        });\n        return canvas.toDataURL(\"image/png\");\n      });\n      const images = await Promise.all(promises);\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      };\n      const doc = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = 297;\n      images.forEach((imgData, index) => {\n        if (index !== 0) {\n          doc.addPage();\n        }\n        doc.addImage(imgData, \"PNG\", 0, 0, imageWidth, imageHeight);\n      });\n      const invoiceNumber = invoiceData[0].invoice_number;\n      const fileName = `invoice_${invoiceNumber}.pdf`;\n      doc.save(fileName);\n      setLoader(false);\n    } catch (error) {\n      console.error(\"Error during PDF generation:\", error);\n      setLoader(false);\n    }\n  };\n  const tstyle = {\n    backgroundColor: \"#000080\",\n    color: \"white\"\n  };\n  const handlecancel = event => {\n    event.preventDefault();\n    setisViewed(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n      @media print  {\n        body {\n          margin: 10px;\n        }  \n      }\n    `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !isViewed ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"14px\",\n          fontFamily: \"serif\",\n          backgroundSize: \"100% 100%\",\n          backgroundRepeat: \"no-repeat\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid p-3\",\n          style: {\n            fontFamily: \"serif\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-md-8\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Billing History\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row align-items-center mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-10 col-md-8 \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"search-bar d-flex align-items-center\",\n                style: {\n                  marginLeft: \"0px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faSearch\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Search Mobile number...\",\n                  value: searchQuery,\n                  onChange: event => handleSearchChange(event.target.value),\n                  style: {\n                    height: \"30px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-md-12 mt-5 mt-md-0 d-flex justify-content-md-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bold-placeholder me-3\",\n                children: [\"From: \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                  onChange: handleFromDateChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bold-placeholder\",\n                children: [\"To: \", /*#__PURE__*/_jsxDEV(DatePicker, {\n                  onChange: handleToDateChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"billing-table ms-4\",\n          children: dataOnCurrentPage.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No search results found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scrollable-body\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"sticky-top\",\n                style: {\n                  backgroundColor: \"blue\",\n                  borderBottom: \"2px solid black\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Created Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Invoice Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Patient Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Mobile Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Grand Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Bill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: dataOnCurrentPage.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: item.createdate ? moment(item.createdate).format(\"YYYY-MM-DD\") : \"N/A\" || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: item.invoice_number || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: item.patientname || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: item.mobileno || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: item.grandtotal || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    style: {\n                      padding: \"5px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"export\",\n                      onClick: () => View(item.invoice_number),\n                      style: {\n                        padding: \"4px\"\n                      },\n                      children: [\" \", \"View\", \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 27\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePrevious,\n            disabled: currentPage === 1,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", currentPage, \" of \", Math.ceil(filteredData.length / itemsPerPage)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNext,\n            disabled: currentPage === Math.ceil(filteredData.length / itemsPerPage),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-8 col-md-10 col-sm-12 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success me-2\",\n                  onClick: downloadPDF,\n                  disabled: loader,\n                  children: \"Download as PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success me-2\",\n                  onClick: handlecancel,\n                  children: \"Go to Previous Page\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-5 overflow-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-10 col-lg-8\",\n            children: Array.isArray(invoiceData) && invoiceData.map((data, index) => {\n              const tablets = JSON.parse(data.tabletdetails).tablets;\n              const totalPages = Math.ceil(tablets.length / itemsPerPage);\n              return Array.from({\n                length: totalPages\n              }, (_, page) => {\n                const startIndex = page * itemsPerPage;\n                const endIndex = startIndex + itemsPerPage;\n                const isLastPage = page === totalPages - 1;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bill\",\n                  style: {\n                    border: \"1px solid grey\",\n                    backgroundImage: `url(${billbg})`,\n                    backgroundSize: \"205mm 290mm\",\n                    backgroundRepeat: \"no-repeat\",\n                    backgroundPosition: \"center\",\n                    height: \"290mm\",\n                    width: \"205mm\",\n                    position: \"relative\",\n                    marginBottom: '20px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-end me-4\",\n                    style: {\n                      marginTop: \"130px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"me-5\",\n                      style: {\n                        color: \"darkblue\"\n                      },\n                      children: \"Invoice\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\"Invoice No: \", invoiceData[index].invoice_number]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\"Invoice Date:\", \" \", invoiceData[index].createdate ? moment(invoiceData[index].createdate).format(\"YYYY-MM-DD\") : \"N/A\" || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\"Patient Name: \", invoiceData[index].patientname]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"table-responsive mt-3 me-5 ms-5\",\n                    children: /*#__PURE__*/_jsxDEV(\"table\", {\n                      className: \"table table-bordered table-striped p-5\",\n                      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                        className: \"table-dark\",\n                        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                            style: tstyle,\n                            className: \"text-center\",\n                            children: \"S.No\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 395,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            style: tstyle,\n                            className: \"text-center\",\n                            children: \"Medicine Name\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 398,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            style: tstyle,\n                            className: \"text-center\",\n                            children: \"Price\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 401,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            style: tstyle,\n                            className: \"text-center\",\n                            children: \"Qty\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 404,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            style: tstyle,\n                            className: \"text-center\",\n                            children: \"Total\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 407,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 394,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                        children: tablets.slice(startIndex, endIndex).map((tablet, tabletIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                          className: \"border-bottom\",\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-center\",\n                            children: startIndex + tabletIndex + 1\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 420,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-center\",\n                            children: tablet.medicinename\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 423,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-center\",\n                            children: tablet.qtyprice\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 426,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-center\",\n                            children: tablet.qty\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 429,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-center\",\n                            children: tablet.total\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 432,\n                            columnNumber: 39\n                          }, this)]\n                        }, startIndex + tabletIndex, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 416,\n                          columnNumber: 37\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 27\n                  }, this), isLastPage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between\",\n                    style: {\n                      position: \"absolute\",\n                      bottom: \"15%\",\n                      width: \"100%\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-start ms-5\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Cash Given: \", invoiceData[index].cashgiven]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 452,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Balance: \", invoiceData[index].balance]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 455,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 451,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-end me-5\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Subtotal: \", invoiceData[index].subtotal]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 460,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Discount:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: invoiceData[index].discount\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 463,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 461,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Grand Total: \", invoiceData[index].grandtotal]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 465,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 459,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 29\n                  }, this)]\n                }, page, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 25\n                }, this);\n              });\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BillingHis, \"DNfc+NrcH2CcLeOFm+uJNf/6rkM=\");\n_c = BillingHis;\nexport default BillingHis;\nvar _c;\n$RefreshReg$(_c, \"BillingHis\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","FontAwesomeIcon","faSearch","DatePicker","moment","html2canvas","jsPDF","billbg","jsxDEV","_jsxDEV","Fragment","_Fragment","BillingHis","_s","searchQuery","setSearchQuery","medicineData","setMedicineData","currentPage","setCurrentPage","fromDate","setFromDate","toDate","setToDate","loading","setLoading","error","setError","isViewed","setisViewed","invoiceData","setInvoiceData","itemsPerPage","loader","setLoader","filteredData","filter","item","mobileno","toLowerCase","includes","createdate","startOf","isSameOrAfter","endOf","isSameOrBefore","startIndex","endIndex","dataOnCurrentPage","slice","fetchbillingData","response","get","data","handlePrevious","handleNext","totalPages","Math","ceil","length","handleSearchChange","query","handleFromDateChange","date","dateString","handleToDateChange","View","invoiceNumber","console","downloadPDF","html2canvasOptions","scale","logging","allowTaint","capture","document","querySelectorAll","Error","promises","Array","from","map","element","window","innerWidth","canvas","toDataURL","images","Promise","all","jsPDFOptions","orientation","unit","format","doc","imageWidth","imageHeight","forEach","imgData","index","addPage","addImage","invoice_number","fileName","save","tstyle","backgroundColor","color","handlecancel","event","preventDefault","children","_jsxFileName","lineNumber","columnNumber","style","fontSize","fontFamily","backgroundSize","backgroundRepeat","className","marginLeft","icon","type","placeholder","value","onChange","target","height","borderBottom","patientname","grandtotal","padding","onClick","id","disabled","isArray","tablets","JSON","parse","tabletdetails","_","page","isLastPage","border","backgroundImage","backgroundPosition","width","position","marginBottom","marginTop","tablet","tabletIndex","medicinename","qtyprice","qty","total","bottom","cashgiven","balance","subtotal","discount","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/Alagar_Clinic-main/Alagar_Clinic-main/Frontend/src/components/billinghistory.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"../styles/stock.css\";\nimport billbg from \"../logo/newtemplate.jpg\";\n\nconst BillingHis = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [medicineData, setMedicineData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fromDate, setFromDate] = useState(null);\n  const [toDate, setToDate] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isViewed, setisViewed] = useState(false);\n  const [invoiceData, setInvoiceData] = useState(\"\");\n  const itemsPerPage = 13;\n  const [loader, setLoader] = useState(false);\n\n  const filteredData = medicineData.filter(\n    (item) =>\n      item.mobileno &&\n      item.mobileno.toLowerCase().includes(searchQuery.toLowerCase()) &&\n      (!fromDate ||\n        moment(item.createdate)\n          .startOf(\"day\")\n          .isSameOrAfter(moment(fromDate).startOf(\"day\"))) &&\n      (!toDate ||\n        moment(item.createdate)\n          .endOf(\"day\")\n          .isSameOrBefore(moment(toDate).endOf(\"day\")))\n  );\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const dataOnCurrentPage = filteredData.slice(startIndex, endIndex);\n\n  const fetchbillingData = async () => {\n    try {\n      const response = await axios.get(\n        \"http://localhost:3000/billingdata\"\n      );\n      setMedicineData(response.data);\n    } catch (error) {\n      setError(\"Error fetching data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchbillingData();\n  }, [searchQuery]);\n\n  useEffect(() => {\n    fetchbillingData();\n  }, []);\n\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleNext = () => {\n    const totalPages = Math.ceil(medicineData.length / itemsPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handleSearchChange = (query) => {\n    setSearchQuery(query);\n  };\n\n  const handleFromDateChange = (date, dateString) => {\n    setFromDate(dateString);\n  };\n\n  const handleToDateChange = (date, dateString) => {\n    setToDate(dateString);\n  };\n\n  const View = async (invoiceNumber) => {\n    try {\n      const response = await axios.get(\n        `http://localhost:3000/billingdata/${invoiceNumber}`\n      );\n      const invoiceData = response.data;\n      setInvoiceData(invoiceData);\n      setisViewed(true);\n    } catch (error) {\n      console.error(\"Error fetching or processing invoice data:\", error);\n    }\n  };\n\n  const downloadPDF = async () => {\n    try {\n      setLoader(true);\n\n      const html2canvasOptions = {\n        scale: 2,\n        logging: false,\n        allowTaint: true,\n      };\n\n      const capture = document.querySelectorAll(\".bill\");\n      if (!capture || capture.length === 0) {\n        throw new Error(\"Unable to find .bill elements\");\n      }\n\n      const promises = Array.from(capture).map(async (element) => {\n        let scale = 2;\n\n        if (window.innerWidth < 768) {\n          scale = 1;\n        }\n\n        const canvas = await html2canvas(element, {\n          ...html2canvasOptions,\n          scale,\n        });\n        return canvas.toDataURL(\"image/png\");\n      });\n\n      const images = await Promise.all(promises);\n\n      const jsPDFOptions = {\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\",\n      };\n\n      const doc = new jsPDF(jsPDFOptions);\n      const imageWidth = 210;\n      const imageHeight = 297;\n\n      images.forEach((imgData, index) => {\n        if (index !== 0) {\n          doc.addPage();\n        }\n        doc.addImage(imgData, \"PNG\", 0, 0, imageWidth, imageHeight);\n      });\n\n      const invoiceNumber = invoiceData[0].invoice_number;\n      const fileName = `invoice_${invoiceNumber}.pdf`;\n\n      doc.save(fileName);\n      setLoader(false);\n    } catch (error) {\n      console.error(\"Error during PDF generation:\", error);\n      setLoader(false);\n    }\n  };\n\n  const tstyle = {\n    backgroundColor: \"#000080\",\n    color: \"white\",\n  };\n\n  const handlecancel = (event) => {\n    event.preventDefault();\n    setisViewed(false);\n  };\n\n  return (\n    <>\n    <style>\n    {`\n      @media print  {\n        body {\n          margin: 10px;\n        }  \n      }\n    `}\n  </style>\n      <div>\n        {!isViewed ? (\n          <div\n            style={{\n              fontSize: \"14px\",\n              fontFamily: \"serif\",\n              backgroundSize: \"100% 100%\",\n              backgroundRepeat: \"no-repeat\",\n            }}\n          >\n            <div\n              className=\"container-fluid p-3\"\n              style={{ fontFamily: \"serif\" }}\n            >\n              <div className=\"row align-items-center\">\n                <div className=\"col-12 col-md-8\">\n                  <h2>\n                    <b>Billing History</b>\n                  </h2>\n                </div>\n              </div>\n\n              <div className=\"row align-items-center mt-3\">\n                <div className=\"col-10 col-md-8 \">\n                  <div\n                    className=\"search-bar d-flex align-items-center\"\n                    style={{ marginLeft: \"0px\" }}\n                  >\n                    <FontAwesomeIcon icon={faSearch} />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search Mobile number...\"\n                      value={searchQuery}\n                      onChange={(event) =>\n                        handleSearchChange(event.target.value)\n                      }\n                      style={{ height: \"30px\" }}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-12 col-md-12 mt-5 mt-md-0 d-flex justify-content-md-end\">\n                  <span className=\"bold-placeholder me-3\">\n                    From: <DatePicker onChange={handleFromDateChange} />\n                  </span>\n                  <span className=\"bold-placeholder\">\n                    To: <DatePicker onChange={handleToDateChange} />\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"billing-table ms-4\">\n              {dataOnCurrentPage.length === 0 ? (\n                <p>No search results found</p>\n              ) : (\n                <div className=\"scrollable-body\">\n                  <table className=\"table\">\n                    <thead\n                      className=\"sticky-top\"\n                      style={{\n                        backgroundColor: \"blue\",\n                        borderBottom: \"2px solid black\",\n                      }}\n                    >\n                      <tr>\n                        <th className=\"text-center\">Created Date</th>\n                        <th className=\"text-center\">Invoice Number</th>\n                        <th className=\"text-center\">Patient Name</th>\n                        <th className=\"text-center\">Mobile Number</th>\n                        <th className=\"text-center\">Grand Total</th>\n                        <th className=\"text-center\">Bill</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {dataOnCurrentPage.map((item) => (\n                        <tr key={item.id}>\n                          <td className=\"text-center\">\n                            {item.createdate\n                              ? moment(item.createdate).format(\"YYYY-MM-DD\")\n                              : \"N/A\" || \"N/A\"}\n                          </td>\n                          <td className=\"text-center\">\n                            {item.invoice_number || \"N/A\"}\n                          </td>\n                          <td className=\"text-center\">\n                            {item.patientname || \"N/A\"}\n                          </td>\n                          <td className=\"text-center\">\n                            {item.mobileno || \"N/A\"}\n                          </td>\n                          <td className=\"text-center\">\n                            {item.grandtotal || \"N/A\"}\n                          </td>\n                          <td\n                            className=\"text-center\"\n                            style={{ padding: \"5px\" }}\n                          >\n                            <button\n                              className=\"export\"\n                              onClick={() => View(item.invoice_number)}\n                              style={{ padding: \"4px\" }}\n                            >\n                              {\" \"}\n                              View{\" \"}\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n\n            <div className=\"pagination\">\n              <button onClick={handlePrevious} disabled={currentPage === 1}>\n                Previous\n              </button>\n              <span>\n                {\" \"}\n                {currentPage} of {Math.ceil(filteredData.length / itemsPerPage)}\n              </span>\n              <button\n                onClick={handleNext}\n                disabled={\n                  currentPage === Math.ceil(filteredData.length / itemsPerPage)\n                }\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mt-2 container\">\n            <div className=\"row\">\n              <div className=\"col-lg-8 col-md-10 col-sm-12 \">\n                <div>\n                  <div className=\"text-end\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-success me-2\"\n                      onClick={downloadPDF}\n                      disabled={loader}\n                    >\n                      Download as PDF\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-success me-2\"\n                      onClick={handlecancel}\n                    >\n                      Go to Previous Page\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"row m-5 overflow-auto\">\n              <div className=\"col-md-10 col-lg-8\">\n                {Array.isArray(invoiceData) &&\n                  invoiceData.map((data, index) => {\n                    const tablets = JSON.parse(data.tabletdetails).tablets;\n                    const totalPages = Math.ceil(tablets.length / itemsPerPage);\n\n                    return Array.from({ length: totalPages }, (_, page) => {\n                      const startIndex = page * itemsPerPage;\n                      const endIndex = startIndex + itemsPerPage;\n\n                      const isLastPage = page === totalPages - 1;\n\n                      return (\n                        <div\n                          key={page}\n                          className=\"bill\"\n                          style={{\n                            border: \"1px solid grey\",\n                            backgroundImage: `url(${billbg})`,\n                            backgroundSize: \"205mm 290mm\",\n                            backgroundRepeat: \"no-repeat\",\n                            backgroundPosition: \"center\",\n                            height: \"290mm\",\n                            width: \"205mm\",\n                            position: \"relative\",\n                            marginBottom: '20px'\n                          }}\n                        >\n                          <div\n                            className=\"text-end me-4\"\n                            style={{ marginTop: \"130px\" }}\n                          >\n                            <h3 className=\"me-5\" style={{ color: \"darkblue\" }}>\n                              Invoice\n                            </h3>\n                            <h6>\n                              Invoice No: {invoiceData[index].invoice_number}\n                            </h6>\n                            <h6>\n                              Invoice Date:{\" \"}\n                              {invoiceData[index].createdate\n                                ? moment(invoiceData[index].createdate).format(\n                                    \"YYYY-MM-DD\"\n                                  )\n                                : \"N/A\" || \"N/A\"}\n                            </h6>\n                            <h6>\n                              Patient Name: {invoiceData[index].patientname}\n                            </h6>\n                          </div>\n\n                          <div className=\"table-responsive mt-3 me-5 ms-5\">\n                            <table className=\"table table-bordered table-striped p-5\">\n                              <thead className=\"table-dark\">\n                                <tr>\n                                  <th style={tstyle} className=\"text-center\">\n                                    S.No\n                                  </th>\n                                  <th style={tstyle} className=\"text-center\">\n                                    Medicine Name\n                                  </th>\n                                  <th style={tstyle} className=\"text-center\">\n                                    Price\n                                  </th>\n                                  <th style={tstyle} className=\"text-center\">\n                                    Qty\n                                  </th>\n                                  <th style={tstyle} className=\"text-center\">\n                                    Total\n                                  </th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {tablets\n                                  .slice(startIndex, endIndex)\n                                  .map((tablet, tabletIndex) => (\n                                    <tr\n                                      key={startIndex + tabletIndex}\n                                      className=\"border-bottom\"\n                                    >\n                                      <td className=\"text-center\">\n                                        {startIndex + tabletIndex + 1}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {tablet.medicinename}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {tablet.qtyprice}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {tablet.qty}\n                                      </td>\n                                      <td className=\"text-center\">\n                                        {tablet.total}\n                                      </td>\n                                    </tr>\n                                  ))}\n                              </tbody>\n                            </table>\n                          </div>\n\n                          {isLastPage && (\n                            <div\n                              className=\"d-flex justify-content-between\"\n                              style={{\n                                position: \"absolute\",\n                                bottom: \"15%\",\n                                width: \"100%\",\n                              }}\n                            >\n                              <div>\n                                <div className=\"text-start ms-5\">\n                                  <p>\n                                    Cash Given: {invoiceData[index].cashgiven}\n                                  </p>\n                                  <p>Balance: {invoiceData[index].balance}</p>\n                                </div>\n                              </div>\n                              <div>\n                                <div className=\"text-end me-5\">\n                                  <p>Subtotal: {invoiceData[index].subtotal}</p>\n                                  <p>\n                                    Discount:{\" \"}\n                                    <span>{invoiceData[index].discount}</span>\n                                  </p>\n                                  <p>\n                                    Grand Total: {invoiceData[index].grandtotal}\n                                  </p>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    });\n                  })}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default BillingHis;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}